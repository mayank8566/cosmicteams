(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[697],{255:(e,t,a)=>{"use strict";function r(e){let{moduleIds:t}=e;return null}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"PreloadChunks",{enumerable:!0,get:function(){return r}}),a(5155),a(7650),a(5744),a(589)},1584:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});var r=a(5155);let n=(0,a(5028).default)(()=>Promise.all([a.e(766),a.e(874),a.e(615)]).then(a.bind(a,4615)),{loadableGenerated:{webpack:()=>[4615]},ssr:!1});function s(){return(0,r.jsx)(n,{})}},2146:(e,t,a)=>{"use strict";function r(e){let{reason:t,children:a}=e;return a}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"BailoutToCSR",{enumerable:!0,get:function(){return r}}),a(5262)},4054:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var a in t)Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}(t,{bindSnapshot:function(){return l},createAsyncLocalStorage:function(){return s},createSnapshot:function(){return i}});let a=Object.defineProperty(Error("Invariant: AsyncLocalStorage accessed in runtime where it is not available"),"__NEXT_ERROR_CODE",{value:"E504",enumerable:!1,configurable:!0});class r{disable(){throw a}getStore(){}run(){throw a}exit(){throw a}enterWith(){throw a}static bind(e){return e}}let n="undefined"!=typeof globalThis&&globalThis.AsyncLocalStorage;function s(){return n?new n:new r}function l(e){return n?n.bind(e):r.bind(e)}function i(){return n?n.snapshot():function(e,...t){return e(...t)}}},4104:(e,t,a)=>{Promise.resolve().then(a.bind(a,9631))},5028:(e,t,a)=>{"use strict";a.d(t,{default:()=>n.a});var r=a(6645),n=a.n(r)},5695:(e,t,a)=>{"use strict";var r=a(8999);a.o(r,"usePathname")&&a.d(t,{usePathname:function(){return r.usePathname}}),a.o(r,"useRouter")&&a.d(t,{useRouter:function(){return r.useRouter}})},5744:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"workAsyncStorage",{enumerable:!0,get:function(){return r.workAsyncStorageInstance}});let r=a(7828)},5928:(e,t,a)=>{"use strict";a.d(t,{A:()=>d,O:()=>c});var r=a(5155),n=a(2115),s=a(6203),l=a(6104),i=a(5317);let o=(0,n.createContext)(null);function d(){let e=(0,n.useContext)(o);if(!e)throw Error("useAuth must be used within an AuthProvider");return e}function c(e){let{children:t}=e,[a,d]=(0,n.useState)(null),[c,u]=(0,n.useState)(!0);(0,n.useEffect)(()=>{let e=(0,s.hg)(l.j2,e=>{d(e),u(!1)});return(0,s.Q4)(l.j2).then(e=>{(null==e?void 0:e.user)&&d(e.user)}).catch(e=>{}),e},[]);let m=async(e,t,a)=>{let r=await (0,s.eJ)(l.j2,e,t),n=r.user;return a&&n&&(await (0,s.r7)(n,{displayName:a}),await (0,i.BN)((0,i.H9)(l.db,"userProfiles",n.uid),{email:n.email,username:a,displayName:a,createdAt:(0,i.O5)(),hasSetUsername:!0})),r},b=async()=>{try{l.hJ.setCustomParameters({prompt:"select_account"});let t=await (0,s.df)(l.j2,l.hJ,s.hk),a=t.user;if(a){var e;await (0,i.BN)((0,i.H9)(l.db,"userProfiles",a.uid),{email:a.email,displayName:a.displayName||(null===(e=a.email)||void 0===e?void 0:e.split("@")[0])||"User",photoURL:a.photoURL,createdAt:(0,i.O5)(),lastLogin:(0,i.O5)(),hasSetUsername:!1},{merge:!0})}return t}catch(e){if("auth/popup-blocked"===e.code||"auth/popup-closed-by-user"===e.code||"auth/cancelled-popup-request"===e.code){await (0,s.$2)(l.j2,l.hJ);return}throw e}};return(0,r.jsx)(o.Provider,{value:{user:a,loading:c,signUp:m,signIn:(e,t)=>(0,s.x9)(l.j2,e,t),signInWithGoogle:b,logout:()=>(0,s.CI)(l.j2)},children:t})}},6104:(e,t,a)=>{"use strict";let r;a.d(t,{IG:()=>c,db:()=>d,hJ:()=>u,j2:()=>o});var n=a(3915),s=a(6203),l=a(5317),i=a(858);let o=null,d=null,c=null,u=null;(r=(0,n.Dk)().length?(0,n.Dk)()[0]:(0,n.Wp)({apiKey:"AIzaSyCQf_QXzyZkyRxsbo91PJmdwjEn3lVfDTo",authDomain:"cosmicteams-bbf29.firebaseapp.com",projectId:"cosmicteams-bbf29",storageBucket:"cosmicteams-bbf29.appspot.com",messagingSenderId:"807144888137",appId:"1:807144888137:web:2621a3ac917d9675d6ec98"}))&&(o=(0,s.xI)(r),d=(0,l.aU)(r),c=(0,i.c7)(r),u=new s.HF)},6493:(e,t,a)=>{"use strict";a.d(t,{H:()=>m,x:()=>u});var r=a(5155),n=a(2115),s=a(5317),l=a(6203),i=a(858),o=a(6104),d=a(5928);let c=(0,n.createContext)(null);function u(){let e=(0,n.useContext)(c);if(!e)throw Error("useProfile must be used within a ProfileProvider");return e}function m(e){let{children:t}=e,{user:a}=(0,d.A)(),[u,m]=(0,n.useState)(null),[b,p]=(0,n.useState)(!0),[h,x]=(0,n.useState)(!1),[f,g]=(0,n.useState)(null);(0,n.useEffect)(()=>{!async function(){if(!a){m(null),p(!1);return}p(!0);try{let e={displayName:a.displayName||"",photoURL:a.photoURL||"",email:a.email||"",username:a.email?a.email.split("@")[0]:"",profileMusic:null,musicType:null,gameTiers:{"neth-op":"LT1",axe:"LT1",smp:"LT1",cpvp:"LT1",sword:"LT1",uhc:"LT1"},canCreateTeams:!0,lastUpdated:Date.now(),createdAt:Date.now(),cosmicTokens:100,spinnerUsed:0,lastSpinTime:0};if(a.uid&&o.db){let t=(0,s.H9)(o.db,"userProfiles",a.uid),r=await (0,s.x7)(t);r.exists()?m({...e,...r.data()}):(await (0,s.BN)(t,{...e,createdAt:Date.now(),lastUpdated:Date.now()}),m(e))}else m(e)}catch(e){g("Failed to load profile data"),a&&m({displayName:a.displayName||"",photoURL:a.photoURL||"",email:a.email||"",username:a.email?a.email.split("@")[0]:"",profileMusic:null,musicType:null})}finally{p(!1)}}()},[a,o.db]);let y=async e=>{if(a){x(!0),g(null);try{if(e.displayName||e.photoURL){let t={};e.displayName&&(t.displayName=e.displayName),e.photoURL&&(t.photoURL=e.photoURL),await (0,l.r7)(a,t)}if(void 0!==e.cosmicTokens){if(e.cosmicTokens<0)throw Error("Token amount cannot be negative");e.cosmicTokens=Number(e.cosmicTokens)}if(a.uid&&o.db){let t=(0,s.H9)(o.db,"userProfiles",a.uid),r={...e,lastUpdated:Date.now()};await (0,s.mZ)(t,r);let n=(await (0,s.x7)(t)).data();m(e=>e?{...e,...n}:null)}else m(t=>t?{...t,...e}:null)}catch(e){throw g("Failed to update profile"),e}finally{x(!1)}}},v=async e=>{if(!a)throw Error("User not authenticated");x(!0),g(null);try{if(e.size>2097152)throw Error("Image file is too large. Please select a file under 2MB.");if(!e.type.startsWith("image/"))throw Error("Please select a valid image file (JPG, PNG, etc.)");let t=(0,i.KR)(o.IG,"profile-images/".concat(a.uid,"/").concat(Date.now(),"-").concat(e.name));if((null==u?void 0:u.photoURL)&&u.photoURL.includes("firebasestorage.googleapis.com"))try{let e=(0,i.KR)(o.IG,u.photoURL);await (0,i.XR)(e)}catch(e){}await (0,i.D)(t,e);let r=await (0,i.qk)(t);return await y({photoURL:r}),r}catch(e){throw g(e instanceof Error?e.message:"Failed to upload profile image"),e}finally{x(!1)}},w=async e=>{if(a){x(!0),g(null);try{a.uid&&await y({gameTiers:e})}catch(e){throw g("Failed to update game tiers"),e}finally{x(!1)}}},j=async(e,t)=>{if(!a||!a.email)throw Error("User not authenticated or email not available");x(!0),g(null);try{let r=l.IX.credential(a.email,e);await (0,l.kZ)(a,r),await (0,l.f3)(a,t)}catch(e){throw"auth/wrong-password"===e.code?g("Current password is incorrect"):g("Failed to change password"),e}finally{x(!1)}},N=async(e,t)=>{if(!a||!a.email)throw Error("User not authenticated or email not available");x(!0),g(null);try{let r=l.IX.credential(a.email,e);await (0,l.kZ)(a,r),await (0,l.Ww)(a,t),await y({email:t})}catch(e){throw"auth/wrong-password"===e.code?g("Current password is incorrect"):"auth/email-already-in-use"===e.code?g("This email is already in use by another account"):g("Failed to change email"),e}finally{x(!1)}};return(0,r.jsx)(c.Provider,{value:{profile:u,loading:b,updating:h,error:f,updateProfileData:y,uploadProfileImage:v,changePassword:j,changeEmail:N,updateAllGameTiers:w},children:t})}},6645:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return n}});let r=a(8229)._(a(7357));function n(e,t){var a;let n={};"function"==typeof e&&(n.loader=e);let s={...n,...t};return(0,r.default)({...s,modules:null==(a=s.loadableGenerated)?void 0:a.modules})}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},7357:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return o}});let r=a(5155),n=a(2115),s=a(2146);function l(e){return{default:e&&"default"in e?e.default:e}}a(255);let i={loader:()=>Promise.resolve(l(()=>null)),loading:null,ssr:!0},o=function(e){let t={...i,...e},a=(0,n.lazy)(()=>t.loader().then(l)),o=t.loading;function d(e){let l=o?(0,r.jsx)(o,{isLoading:!0,pastDelay:!0,error:null}):null,i=!t.ssr||!!t.loading,d=i?n.Suspense:n.Fragment,c=t.ssr?(0,r.jsxs)(r.Fragment,{children:[null,(0,r.jsx)(a,{...e})]}):(0,r.jsx)(s.BailoutToCSR,{reason:"next/dynamic",children:(0,r.jsx)(a,{...e})});return(0,r.jsx)(d,{...i?{fallback:l}:{},children:c})}return d.displayName="LoadableComponent",d}},7828:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"workAsyncStorageInstance",{enumerable:!0,get:function(){return r}});let r=(0,a(4054).createAsyncLocalStorage)()},9631:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>b});var r=a(5155),n=a(2115),s=a(5695),l=a(5928),i=a(6493),o=a(5317),d=a(858),c=a(6104),u=a(1584),m=a(6766);function b(e){var t;let{params:a}=e,b=(0,s.useRouter)(),{user:p}=(0,l.A)(),{profile:h}=(0,i.x)(),x=(0,n.useRef)(null),[f,g]=(0,n.useState)(null),[y,v]=(0,n.useState)(!0),[w,j]=(0,n.useState)(null),[N,k]=(0,n.useState)(null),[P,S]=(0,n.useState)(""),[T,C]=(0,n.useState)(""),[U,L]=(0,n.useState)(null),[R,_]=(0,n.useState)(null),[A,D]=(0,n.useState)(!1),[E,O]=(0,n.useState)(""),[I,M]=(0,n.useState)(!1),[B,F]=(0,n.useState)(null),[G,q]=(0,n.useState)(null),[H,J]=(0,n.useState)("default"),[Z,z]=(0,n.useState)(!1),[W,X]=(0,n.useState)(null),[K,Q]=(0,n.useState)(null),[V,Y]=(0,n.useState)(!1),[$,ee]=(0,n.useState)(""),[et,ea]=(0,n.useState)(!1),er={default:"Default",gradient:"Gradient",animated:"Animated",cosmic:"Cosmic",sparkle:"Sparkle","neon-pulse":"Neon Pulse","cyber-grid":"Cyber Grid","flame-wave":"Flame Wave"};(0,n.useEffect)(()=>{if(!p){b.push("/login");return}(async()=>{try{v(!0);let e=await (0,o.x7)((0,o.H9)(c.db,"teams",a.id));if(!e.exists()){j("Team not found"),v(!1);return}let t=e.data(),r={id:e.id,...t,points:t.points||0,memberUsernames:t.memberUsernames||[]};if(t.createdBy!==p.email){j("Only team leaders can access settings"),v(!1);return}g(r),S(r.name),C(r.description),_(r.logo),r.banner&&J(r.banner)}catch(e){j("Failed to load team details")}finally{v(!1)}})()},[p,a.id,b]);let en=async e=>{if(e.preventDefault(),!A&&f){if(!P.trim()){j("Team name is required");return}if(!T.trim()){j("Team description is required");return}try{D(!0),j(null);let e=f.logo;if(U){let t=(0,d.c7)(),a="team-logos/".concat(f.id,"-").concat(Date.now()),r=(0,d.KR)(t,a);await (0,d.D)(r,U),e=await (0,d.qk)(r)}let t=(0,o.H9)(c.db,"teams",f.id);await (0,o.mZ)(t,{name:P.trim(),description:T.trim(),logo:e,updatedAt:new Date}),g({...f,name:P.trim(),description:T.trim(),logo:e}),k("Team settings updated successfully!"),setTimeout(()=>k(null),3e3)}catch(e){j("Failed to update team settings. Please try again.")}finally{D(!1)}}},es=async e=>{if(e.preventDefault(),!I&&f){if(!E.trim()){F("Username is required");return}try{M(!0),F(null);let e=(0,o.P)((0,o.rJ)(c.db,"userProfiles"),(0,o._M)("username","==",E.trim())),t=await (0,o.GG)(e);if(t.empty){F("Username not found"),M(!1);return}let a=t.docs[0].data().email;if(f.members.includes(a)||f.memberUsernames.includes(E.trim())){F("User is already a team member"),M(!1);return}let r=(0,o.H9)(c.db,"teams",f.id);await (0,o.mZ)(r,{members:(0,o.hq)(a),memberUsernames:(0,o.hq)(E.trim()),updatedAt:new Date}),g({...f,members:[...f.members,a],memberUsernames:[...f.memberUsernames,E.trim()]}),q("".concat(E," has been added to the team!")),O(""),setTimeout(()=>q(null),3e3)}catch(e){F("Failed to invite member. Please try again.")}finally{M(!1)}}},el=async()=>{if(!et&&f){if("disband"!==$.trim().toLowerCase()){j('Please type "disband" to confirm');return}try{ea(!0),j(null);let e=(0,o.H9)(c.db,"teams",f.id);await (0,o.mZ)(e,{isDisabled:!0,disbandedAt:new Date}),k("Team has been disbanded. Redirecting..."),setTimeout(()=>{b.push("/dashboard")},2e3)}catch(e){j("Failed to disband team. Please try again.")}finally{ea(!1)}}};return y?(0,r.jsxs)("main",{className:"min-h-screen flex flex-col",children:[(0,r.jsx)(u.A,{}),(0,r.jsx)("div",{className:"container mx-auto px-4 py-20 flex justify-center items-center flex-1 bg-gradient-to-b from-slate-900 to-slate-800",children:(0,r.jsx)("div",{className:"w-12 h-12 border-t-2 border-b-2 border-blue-500 rounded-full animate-spin"})})]}):w?(0,r.jsxs)("main",{className:"min-h-screen flex flex-col",children:[(0,r.jsx)(u.A,{}),(0,r.jsx)("div",{className:"container mx-auto px-4 py-20 flex-1 bg-gradient-to-b from-slate-900 to-slate-800",children:(0,r.jsxs)("div",{className:"max-w-2xl mx-auto p-8 bg-white/5 rounded-lg backdrop-blur-sm shadow-xl",children:[(0,r.jsx)("h1",{className:"text-3xl font-bold text-red-400 mb-4",children:"Error"}),(0,r.jsx)("p",{className:"text-white/80",children:w}),(0,r.jsx)("button",{onClick:()=>b.push("/teams/".concat(a.id)),className:"mt-6 px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors",children:"Return to Team"})]})})]}):f?(0,r.jsxs)("main",{className:"min-h-screen flex flex-col",children:[(0,r.jsx)(u.A,{}),(0,r.jsx)("div",{className:"container mx-auto px-4 py-8 flex-1 bg-gradient-to-b from-slate-900 to-slate-800",children:(0,r.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-8 p-6 bg-slate-800/80 rounded-lg shadow-xl",children:[(0,r.jsx)("h1",{className:"text-3xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-blue-400 to-purple-500",children:"Team Settings"}),(0,r.jsx)("div",{className:"flex space-x-4",children:(0,r.jsx)("button",{onClick:()=>b.push("/teams/".concat(a.id)),className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors",children:"Back to Team"})})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,r.jsx)("div",{className:"lg:col-span-2",children:(0,r.jsxs)("form",{onSubmit:en,className:"p-6 bg-white/5 rounded-lg backdrop-blur-sm shadow-xl mb-6",children:[(0,r.jsx)("h2",{className:"text-xl font-semibold mb-6 text-transparent bg-clip-text bg-gradient-to-r from-blue-300 to-purple-400",children:"Edit Team Information"}),w&&(0,r.jsx)("div",{className:"mb-6 p-4 bg-red-900/50 text-red-200 rounded-lg border border-red-700",children:w}),N&&(0,r.jsx)("div",{className:"mb-6 p-4 bg-green-900/50 text-green-200 rounded-lg border border-green-700",children:N}),(0,r.jsxs)("div",{className:"mb-6",children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Team Logo"}),(0,r.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,r.jsx)("div",{className:"w-24 h-24 rounded-full flex items-center justify-center border-2 border-dashed border-gray-400 hover:border-blue-500 cursor-pointer bg-gray-800/50 overflow-hidden",onClick:()=>{var e;return null===(e=x.current)||void 0===e?void 0:e.click()},children:R?(0,r.jsx)(m.default,{src:R,alt:"Team logo preview",width:96,height:96,className:"object-cover w-full h-full"}):(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("span",{className:"text-2xl",children:"+"}),(0,r.jsx)("span",{className:"block text-xs mt-1",children:"Upload"})]})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("input",{type:"file",ref:x,onChange:e=>{var t;let a=null===(t=e.target.files)||void 0===t?void 0:t[0];if(!a)return;if(!a.type.startsWith("image/")){j("Please upload an image file");return}if(a.size>2097152){j("Image size should be less than 2MB");return}L(a),j(null);let r=new FileReader;r.onload=e=>{var t;_(null===(t=e.target)||void 0===t?void 0:t.result)},r.readAsDataURL(a)},accept:"image/*",className:"hidden"}),(0,r.jsx)("button",{type:"button",onClick:()=>{var e;return null===(e=x.current)||void 0===e?void 0:e.click()},className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors text-sm",children:"Change Logo"}),(0,r.jsx)("p",{className:"text-xs text-gray-400 mt-2",children:"JPG, PNG or GIF, max 2MB"})]})]})]}),(0,r.jsxs)("div",{className:"mb-6",children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Team Name"}),(0,r.jsx)("input",{type:"text",value:P,onChange:e=>S(e.target.value),className:"w-full px-4 py-3 rounded-lg border border-gray-700 bg-gray-800/50 focus:ring-2 focus:ring-blue-500 outline-none text-white",placeholder:"Enter team name",required:!0})]}),(0,r.jsxs)("div",{className:"mb-6",children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Description"}),(0,r.jsx)("textarea",{value:T,onChange:e=>C(e.target.value),className:"w-full px-4 py-3 rounded-lg border border-gray-700 bg-gray-800/50 focus:ring-2 focus:ring-blue-500 outline-none text-white",rows:4,placeholder:"Describe your team's purpose and goals",required:!0})]}),(0,r.jsx)("button",{type:"submit",disabled:A,className:"px-6 py-3 bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 text-white rounded-lg transition-all transform hover:scale-105 disabled:opacity-50 disabled:transform-none",children:A?"Saving...":"Save Changes"})]})}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"p-6 bg-white/5 rounded-lg backdrop-blur-sm shadow-xl mb-6",children:[(0,r.jsx)("h2",{className:"text-xl font-semibold mb-6 text-transparent bg-clip-text bg-gradient-to-r from-blue-300 to-purple-400",children:"Invite Team Members"}),B&&(0,r.jsx)("div",{className:"mb-6 p-4 bg-red-900/50 text-red-200 rounded-lg border border-red-700",children:B}),G&&(0,r.jsx)("div",{className:"mb-6 p-4 bg-green-900/50 text-green-200 rounded-lg border border-green-700",children:G}),(0,r.jsxs)("form",{onSubmit:es,className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Username"}),(0,r.jsx)("input",{type:"text",value:E,onChange:e=>O(e.target.value),className:"w-full px-4 py-3 rounded-lg border border-gray-700 bg-gray-800/50 focus:ring-2 focus:ring-blue-500 outline-none text-white",placeholder:"Enter username",required:!0}),(0,r.jsx)("p",{className:"text-xs text-gray-400 mt-2",children:"Enter the username of the person you want to invite"})]}),(0,r.jsx)("button",{type:"submit",disabled:I,className:"w-full px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg transition-colors",children:I?"Inviting...":"Invite Member"})]})]}),(0,r.jsxs)("div",{className:"p-6 bg-white/5 rounded-lg backdrop-blur-sm shadow-xl",children:[(0,r.jsx)("h2",{className:"text-xl font-semibold mb-6 text-transparent bg-clip-text bg-gradient-to-r from-blue-300 to-purple-400",children:"Team Banner"}),W&&(0,r.jsx)("div",{className:"bg-red-500/20 border border-red-500/50 text-white p-3 rounded-lg mb-4 animate-shake",children:W}),K&&(0,r.jsx)("div",{className:"bg-green-500/20 border border-green-500/50 text-white p-3 rounded-lg mb-4 animate-fade-in-up",children:K}),(0,r.jsxs)("div",{className:"mb-4",children:[(0,r.jsx)("p",{className:"text-sm text-white/70 mb-2",children:"Select a banner style for your team. You can acquire more banners from the marketplace."}),(0,r.jsxs)("div",{className:"grid grid-cols-1 gap-3 mt-4",children:[(0,r.jsx)("div",{className:"relative overflow-hidden rounded-lg cursor-pointer border-2 transition-all ".concat("default"!==H&&H?"border-transparent hover:border-white/30":"border-blue-500"),onClick:()=>J("default"),children:(0,r.jsx)("div",{className:"h-10 bg-gradient-to-r from-blue-600 to-purple-600 relative overflow-hidden",children:(0,r.jsx)("div",{className:"absolute inset-0 flex items-center justify-center text-white text-xs font-medium",children:"Default Banner"})})}),null==h?void 0:null===(t=h.teamBanners)||void 0===t?void 0:t.map(e=>{let t=e.replace("banner-",""),a=er[t]||t;return(0,r.jsx)("div",{className:"relative overflow-hidden rounded-lg cursor-pointer border-2 transition-all ".concat(H===e?"border-blue-500":"border-transparent hover:border-white/30"),onClick:()=>J(e),children:(0,r.jsxs)("div",{className:"\n                            h-10 relative overflow-hidden\n                            ".concat("gradient"===t?"bg-gradient-to-r from-space-purple via-space-indigo to-space-cyan":"","\n                            ").concat("animated"===t?"bg-gradient-to-r from-space-purple via-space-indigo to-space-cyan bg-size-200 animate-gradient-x":"","\n                            ").concat("cosmic"===t?"bg-space-dark cosmic-stars":"","\n                            ").concat("sparkle"===t?"bg-space-dark":"","\n                            ").concat("neon-pulse"===t?"bg-black border border-neon-blue animate-neon-breathe text-neon-blue":"","\n                            ").concat("cyber-grid"===t?"bg-black relative":"","\n                            ").concat("flame-wave"===t?"bg-gradient-to-r from-red-600 via-orange-500 to-yellow-500 bg-size-200 animate-gradient-x":"","\n                          "),children:[(0,r.jsxs)("div",{className:"absolute inset-0 flex items-center justify-center text-white text-xs font-medium",children:[a," Banner"]}),"cyber-grid"===t&&(0,r.jsx)("div",{className:"absolute inset-0 grid grid-cols-8 grid-rows-2",children:Array.from({length:16}).map((e,t)=>(0,r.jsx)("div",{className:"border-[0.5px] border-neon-blue/20 animate-neon-pulse",style:{animationDelay:"".concat(100*t,"ms")}},t))}),"sparkle"===t&&(0,r.jsxs)("div",{className:"absolute inset-0 pointer-events-none",children:[(0,r.jsx)("div",{className:"absolute top-1/4 left-1/4 w-1 h-1 bg-white rounded-full animate-ping"}),(0,r.jsx)("div",{className:"absolute top-1/2 left-3/4 w-1 h-1 bg-white rounded-full animate-ping delay-300"}),(0,r.jsx)("div",{className:"absolute top-3/4 left-1/2 w-1 h-1 bg-white rounded-full animate-ping delay-700"})]})]})},e)}),(0,r.jsx)("div",{className:"relative overflow-hidden rounded-lg cursor-pointer border-2 border-dashed border-white/30 hover:border-white/50 transition-all",onClick:()=>b.push("/marketplace?category=banner"),children:(0,r.jsx)("div",{className:"h-10 flex items-center justify-center text-white text-xs",children:(0,r.jsxs)("span",{className:"flex items-center",children:[(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Get More Banners"]})})})]})]}),(0,r.jsx)("div",{className:"flex justify-end",children:(0,r.jsx)("button",{onClick:async()=>{try{if(z(!0),X(""),Q(""),!f)return;let e=(0,o.H9)(c.db,"teams",f.id);await (0,o.mZ)(e,{banner:H,bannerEffect:H.replace("banner-","")}),g({...f,banner:H,bannerEffect:H.replace("banner-","")}),Q("Team banner updated successfully!"),setTimeout(()=>{Q("")},3e3)}catch(e){X("Failed to update team banner. Please try again.")}finally{z(!1)}},disabled:Z,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors",children:Z?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("span",{className:"inline-block h-4 w-4 animate-spin rounded-full border-2 border-solid border-current border-r-transparent mr-2"}),(0,r.jsx)("span",{children:"Applying..."})]}):(0,r.jsx)("span",{children:"Apply Banner"})})})]}),(0,r.jsxs)("div",{className:"p-6 bg-white/5 rounded-lg backdrop-blur-sm shadow-xl",children:[(0,r.jsx)("h2",{className:"text-xl font-semibold mb-6 text-transparent bg-clip-text bg-gradient-to-r from-blue-300 to-purple-400",children:"Team Members"}),(0,r.jsx)("div",{className:"space-y-3",children:f.memberUsernames.map((e,t)=>(0,r.jsx)("div",{className:"p-3 rounded-lg ".concat(e===f.creatorUsername?"bg-blue-900/30 border border-blue-700/50":"bg-slate-800/50"),children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center mr-3",children:e.charAt(0).toUpperCase()}),(0,r.jsx)("span",{className:"text-white",children:e})]}),e===f.creatorUsername?(0,r.jsx)("span",{className:"text-xs bg-blue-900/50 text-blue-300 px-2 py-1 rounded",children:"Leader"}):(0,r.jsx)("button",{onClick:()=>{alert("Remove member feature coming soon!")},className:"text-xs text-red-400 hover:text-red-300",children:"Remove"})]})},t))})]})]})]}),(0,r.jsxs)("div",{className:"p-6 bg-red-900/20 rounded-lg backdrop-blur-sm shadow-xl mb-6 border border-red-800/50",children:[(0,r.jsx)("h2",{className:"text-xl font-semibold mb-4 text-red-400",children:"Danger Zone"}),(0,r.jsx)("p",{className:"text-white/80 mb-4",children:"Disbanding a team is a permanent action that cannot be undone. All team data will be marked as inactive."}),V?(0,r.jsxs)("div",{className:"p-4 bg-red-950/50 rounded-lg border border-red-800",children:[(0,r.jsx)("p",{className:"text-red-200 font-medium mb-4",children:"⚠️ Warning: This action cannot be undone"}),(0,r.jsxs)("p",{className:"text-white/80 mb-4",children:["To confirm, please type ",(0,r.jsx)("span",{className:"font-bold",children:"disband"})," in the field below:"]}),(0,r.jsxs)("div",{className:"flex space-x-2",children:[(0,r.jsx)("input",{type:"text",value:$,onChange:e=>ee(e.target.value),className:"flex-1 px-4 py-2 rounded-lg border border-red-800 bg-black/40 outline-none focus:ring-2 focus:ring-red-500",placeholder:"Type 'disband' to confirm"}),(0,r.jsx)("button",{type:"button",onClick:el,disabled:et||"disband"!==$.trim().toLowerCase(),className:"px-4 py-2 bg-red-600 hover:bg-red-700 disabled:bg-red-900 disabled:cursor-not-allowed text-white rounded-lg transition-colors",children:et?"Processing...":"Confirm Disband"}),(0,r.jsx)("button",{type:"button",onClick:()=>{Y(!1),ee("")},className:"px-4 py-2 bg-gray-700 hover:bg-gray-600 text-white rounded-lg transition-colors",children:"Cancel"})]})]}):(0,r.jsx)("button",{type:"button",onClick:()=>Y(!0),className:"px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg transition-colors",children:"Disband Team"})]})]})})]}):null}}},e=>{var t=t=>e(e.s=t);e.O(0,[611,794,288,766,441,684,358],()=>t(4104)),_N_E=e.O()}]);