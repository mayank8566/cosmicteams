(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[636],{3246:(e,a,l)=>{"use strict";l.r(a),l.d(a,{default:()=>u});var t=l(5155),s=l(2115),r=l(5695),o=l(5928),i=l(6493),n=l(4233);let c=[{value:"neth-op",label:"Nether OP"},{value:"axe",label:"Axe"},{value:"smp",label:"SMP"},{value:"cpvp",label:"Crystal PVP"},{value:"sword",label:"Sword"},{value:"uhc",label:"UHC"}],d=[{value:"LT1",label:"Low Tier 1"},{value:"LT2",label:"Low Tier 2"},{value:"LT3",label:"Low Tier 3"},{value:"LT4",label:"Low Tier 4"},{value:"LT5",label:"Low Tier 5"},{value:"HT1",label:"High Tier 1"},{value:"HT2",label:"High Tier 2"},{value:"HT3",label:"High Tier 3"},{value:"HT4",label:"High Tier 4"},{value:"HT5",label:"High Tier 5"}];function u(){var e,a,l;let u=(0,r.useRouter)(),{user:m}=(0,o.A)(),{profile:h,updating:p,error:f,updateProfileData:x,uploadProfileImage:g}=(0,i.x)(),[v,b]=(0,s.useState)(""),[w,j]=(0,s.useState)(""),[y,N]=(0,s.useState)(null),[k,C]=(0,s.useState)(null),[L,P]=(0,s.useState)({}),[T,M]=(0,s.useState)(!1),[U,S]=(0,s.useState)(null),[D,R]=(0,s.useState)(null);(0,s.useEffect)(()=>{if(!m){u.push("/login");return}h&&(b(h.displayName||""),j(h.bio||""),P(h.gameTiers||{}))},[m,h,u]);let A=e=>{let{decorationType:a}=e;if(null==a?void 0:a.includes("neon-")){let e=a.replace("neon-","");return(0,t.jsx)("div",{className:"absolute inset-0 z-10",children:(0,t.jsx)(n.A,{type:e,size:64})})}switch(a){case"gold-frame":return(0,t.jsx)("img",{src:"/avatar-frames/gold-frame.png",alt:"Gold Frame",className:"absolute inset-0 w-full h-full pointer-events-none animate-pulse-slow z-10"});case"cosmic-frame":return(0,t.jsx)("img",{src:"/avatar-frames/cosmic-frame.png",alt:"Cosmic Frame",className:"absolute inset-0 w-full h-full pointer-events-none animate-spin-slow z-10"});case"silver-frame":return(0,t.jsx)("img",{src:"/avatar-frames/silver-frame.png",alt:"Silver Frame",className:"absolute inset-0 w-full h-full pointer-events-none z-10"});case"diamond-frame":return(0,t.jsx)("img",{src:"/avatar-frames/diamond-frame.png",alt:"Diamond Frame",className:"absolute inset-0 w-full h-full pointer-events-none animate-hue-rotate z-10"});case"crown":return(0,t.jsx)("div",{className:"absolute -top-3 left-1/2 transform -translate-x-1/2 z-10",children:(0,t.jsx)("svg",{width:"24",height:"16",viewBox:"0 0 24 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,t.jsx)("path",{d:"M12 0L16 6L24 4L20 16H4L0 4L8 6L12 0Z",fill:"#F7B928"})})});case"cosmic-aura":return(0,t.jsx)("div",{className:"absolute -inset-2 rounded-full bg-gradient-to-r from-space-indigo via-space-purple to-space-cyan opacity-40 animate-pulse-slow cosmic-glow z-0"});case"stars":return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"absolute -top-1 -right-1 text-space-gold animate-twinkle z-10",children:"★"}),(0,t.jsx)("div",{className:"absolute top-1 -left-2 text-space-gold animate-twinkle-delay-1 z-10",children:"★"}),(0,t.jsx)("div",{className:"absolute -bottom-1 right-0 text-space-gold animate-twinkle-delay-2 z-10",children:"★"})]});case"halo":return(0,t.jsx)("div",{className:"absolute -top-3 left-1/2 transform -translate-x-1/2 w-10 h-4 rounded-full border-2 border-space-gold bg-space-gold/20 z-10"});default:return null}},B=async e=>{if(e.preventDefault(),!T)try{M(!0);let e=null==h?void 0:h.photoURL;if(y)try{e=await g(y)}catch(e){alert(e instanceof Error?e.message:"Failed to upload image");return}await x({displayName:v,bio:w,photoURL:e,gameTiers:L}),alert("Profile updated successfully!"),N(null)}catch(e){alert("Failed to update profile. Please try again.")}finally{M(!1)}};return(0,t.jsxs)("div",{className:"container mx-auto px-4 py-8 bg-gradient-to-b from-space-dark to-space-dark/80 min-h-screen",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center mb-8",children:[(0,t.jsx)("h1",{className:"text-3xl font-bold bg-gradient-to-r from-space-cyan to-space-indigo gradient-text",children:"Profile Settings"}),(0,t.jsx)("button",{onClick:()=>u.push("/"),className:"btn-gradient",children:"Home"})]}),(0,t.jsx)("form",{onSubmit:B,className:"space-y-6 max-w-2xl mx-auto cosmic-card backdrop-blur-md",children:(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"p-6 rounded-lg bg-space-blue/30 border border-space-purple/30 backdrop-blur-sm",children:[(0,t.jsx)("h3",{className:"text-xl font-medium mb-4",children:"Live Preview"}),(0,t.jsxs)("div",{className:"flex flex-col items-center",children:[(0,t.jsxs)("div",{className:"w-full h-48 relative overflow-hidden rounded-lg mb-6",children:[(D||(null==h?void 0:h.activeProfileBackground))&&(0,t.jsx)("img",{src:"/profile-backgrounds/".concat(D||(null==h?void 0:h.activeProfileBackground),".png"),alt:"Profile Background",className:"w-full h-full object-cover opacity-70",onError:e=>{let a=e.target;a.onerror=null;let l=D||(null==h?void 0:h.activeProfileBackground)||"",t=[];if((t=l.startsWith("profile-")?["/profile-backgrounds/".concat(l,".jpg"),"/profile-backgrounds/".concat(l.substring(8),".png"),"/profile-backgrounds/".concat(l.substring(8),".jpg")]:["/profile-backgrounds/".concat(l,".jpg"),"/profile-backgrounds/profile-".concat(l,".png"),"/profile-backgrounds/profile-".concat(l,".jpg")]).length>0){a.src=t[0];let e=1;a.onerror=function(){e<t.length?a.src=t[e++]:a.onerror=null}}}}),(0,t.jsx)("div",{className:"absolute inset-0 bg-space-dark/50 flex items-center justify-center",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"relative inline-block",children:(0,t.jsx)("div",{className:"w-24 h-24 rounded-full relative",children:(null===(e=U||(null==h?void 0:h.activeAvatarDecoration))||void 0===e?void 0:e.includes("neon-"))?(0,t.jsx)(n.A,{type:(U||(null==h?void 0:h.activeAvatarDecoration)||"").replace("neon-",""),size:96,children:(0,t.jsx)("img",{src:k||(null==h?void 0:h.photoURL)||"/default-avatar.png",alt:"Profile Preview",className:"w-full h-full object-cover"})}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"w-full h-full rounded-full overflow-hidden",children:(0,t.jsx)("img",{src:k||(null==h?void 0:h.photoURL)||"/default-avatar.png",alt:"Profile Preview",className:"w-full h-full object-cover"})}),(U||(null==h?void 0:h.activeAvatarDecoration))&&(0,t.jsx)(A,{decorationType:U||(null==h?void 0:h.activeAvatarDecoration)})]})})}),(0,t.jsx)("h3",{className:"text-xl mt-2 font-bold",children:v||(null==h?void 0:h.displayName)||"Your Name"}),(0,t.jsx)("p",{className:"text-sm opacity-80 mt-1",children:w||(null==h?void 0:h.bio)||"Your bio will appear here"})]})})]}),(0,t.jsx)("p",{className:"text-sm text-cosmic-text-secondary",children:"This is how your profile will appear to others"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Profile Image"}),(0,t.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,t.jsx)("div",{className:"w-24 h-24 rounded-full overflow-hidden bg-gray-200",children:(0,t.jsx)("img",{src:k||(null==h?void 0:h.photoURL)||"/default-avatar.png",alt:"Profile",className:"w-full h-full object-cover"})}),(0,t.jsx)("input",{type:"file",accept:"image/*",onChange:e=>{var a;let l=null===(a=e.target.files)||void 0===a?void 0:a[0];if(l){N(l);let e=new FileReader;e.onloadend=()=>{C(e.result)},e.readAsDataURL(l)}},className:"file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:bg-blue-600 file:text-white hover:file:bg-blue-700 file:cursor-pointer"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Display Name"}),(0,t.jsx)("input",{type:"text",value:v,onChange:e=>b(e.target.value),className:"w-full cosmic-input",required:!0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Bio"}),(0,t.jsx)("textarea",{value:w,onChange:e=>j(e.target.value),className:"w-full cosmic-input",rows:4})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Game Tiers"}),c.map(e=>(0,t.jsxs)("div",{className:"flex items-center space-x-4 mb-4",children:[(0,t.jsxs)("span",{className:"w-24",children:[e.label,":"]}),(0,t.jsxs)("select",{value:L[e.value]||"",onChange:a=>P(l=>({...l,[e.value]:a.target.value})),className:"px-4 py-2 cosmic-input",children:[(0,t.jsx)("option",{value:"",children:"Select Tier"}),d.map(e=>(0,t.jsx)("option",{value:e.value,children:e.label},e.value))]})]},e.value))]}),(0,t.jsxs)("div",{className:"p-4 rounded-lg bg-space-blue/30 border border-space-purple/30 backdrop-blur-sm",children:[(0,t.jsx)("h3",{className:"text-lg font-medium mb-2",children:"Team Creation Access"}),(0,t.jsxs)("p",{className:"text-sm",children:["Status: ",(null==h?void 0:h.canCreateTeams)?(0,t.jsx)("span",{className:"text-green-500 font-medium",children:"Enabled"}):(0,t.jsx)("span",{className:"text-yellow-500 font-medium",children:"Not enabled - Contact an admin to request access"})]})]}),(0,t.jsxs)("div",{className:"p-4 rounded-lg bg-space-blue/30 border border-space-purple/30 backdrop-blur-sm",children:[(0,t.jsx)("h3",{className:"text-lg font-medium mb-2",children:"Avatar Decoration"}),(0,t.jsx)("p",{className:"text-sm mb-4",children:"Select an avatar decoration from your purchased items to display on your profile."}),(0,t.jsxs)("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-3",children:[(0,t.jsxs)("div",{className:"p-2 border rounded-lg cursor-pointer transition-all ".concat((null==h?void 0:h.activeAvatarDecoration)?"border-space-indigo/30 hover:border-space-cyan":"border-space-gold bg-space-indigo/30"),onClick:()=>{x({activeAvatarDecoration:""}),S(null)},children:[(0,t.jsx)("div",{className:"relative w-16 h-16 mx-auto",children:(0,t.jsx)("div",{className:"w-full h-full rounded-full overflow-hidden flex items-center justify-center bg-gradient-to-br from-space-indigo to-space-purple",children:(0,t.jsx)("span",{className:"text-white font-bold",children:"CT"})})}),(0,t.jsx)("p",{className:"text-center text-xs mt-2",children:"None"})]}),null==h?void 0:null===(l=h.purchasedItems)||void 0===l?void 0:null===(a=l.filter(e=>e.startsWith("avatar-")))||void 0===a?void 0:a.map(e=>{let a=e.replace("avatar-",""),l=h.activeAvatarDecoration===a;return(0,t.jsxs)("div",{className:"p-2 border rounded-lg cursor-pointer transition-all ".concat(l?"border-space-gold bg-space-indigo/30":"border-space-indigo/30 hover:border-space-cyan"),onClick:()=>{x({activeAvatarDecoration:a}),S(a)},onMouseEnter:()=>S(a),onMouseLeave:()=>S((null==h?void 0:h.activeAvatarDecoration)||null),children:[(0,t.jsx)("div",{className:"relative w-16 h-16 mx-auto",children:a.includes("neon-")?(0,t.jsx)(n.A,{type:a.replace("neon-",""),size:64,children:(0,t.jsx)("img",{src:(null==h?void 0:h.photoURL)||"/default-avatar.png",alt:"Preview",className:"w-full h-full object-cover"})}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"w-full h-full rounded-full overflow-hidden",children:(0,t.jsx)("img",{src:(null==h?void 0:h.photoURL)||"/default-avatar.png",alt:"Preview",className:"w-full h-full object-cover"})}),(0,t.jsx)(A,{decorationType:a})]})}),(0,t.jsx)("p",{className:"text-center text-xs mt-2",children:a.split("-").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" ")})]},e)})]}),(!(null==h?void 0:h.purchasedItems)||0===h.purchasedItems.filter(e=>e.startsWith("avatar-")).length)&&(0,t.jsxs)("p",{className:"text-sm text-cosmic-text-secondary mt-2",children:["You haven't purchased any avatar decorations yet. Visit the ",(0,t.jsx)("a",{href:"/marketplace",className:"text-space-cyan hover:underline",children:"Marketplace"})," to get some!"]})]}),(0,t.jsxs)("div",{className:"p-4 rounded-lg bg-space-blue/30 border border-space-purple/30 backdrop-blur-sm",children:[(0,t.jsx)("h3",{className:"text-lg font-medium mb-2",children:"Profile Background"}),(0,t.jsx)("p",{className:"text-sm mb-4",children:"Select a background to use on your profile. You can acquire more backgrounds from the marketplace."}),(0,t.jsxs)("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3",children:[(0,t.jsxs)("div",{className:"p-2 border rounded-lg cursor-pointer transition-all ".concat((null==h?void 0:h.activeProfileBackground)?"border-space-indigo/30 hover:border-space-cyan":"border-space-gold bg-space-indigo/30"),onClick:()=>{x({activeProfileBackground:""}),R(null)},children:[(0,t.jsx)("div",{className:"relative w-full h-16 rounded-lg overflow-hidden mx-auto bg-gradient-to-br from-space-dark to-space-dark/80",children:(0,t.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,t.jsx)("span",{className:"text-white font-bold",children:"Default"})})}),(0,t.jsx)("p",{className:"text-center text-xs mt-2",children:"Default"})]}),(0,t.jsxs)("div",{className:"p-2 border rounded-lg cursor-pointer transition-all ".concat((null==h?void 0:h.activeProfileBackground)==="galaxy"?"border-space-gold bg-space-indigo/30":"border-space-indigo/30 hover:border-space-cyan"),onClick:()=>{x({activeProfileBackground:"galaxy"}),R("galaxy")},onMouseEnter:()=>R("galaxy"),onMouseLeave:()=>R((null==h?void 0:h.activeProfileBackground)||null),children:[(0,t.jsxs)("div",{className:"relative w-full h-16 rounded-lg overflow-hidden mx-auto",children:[(0,t.jsx)("img",{src:"/profile-backgrounds/galaxy.png",alt:"Galaxy",className:"w-full h-full object-cover",onError:e=>{e.target.src="/profile-backgrounds/galaxy.jpg"}}),(0,t.jsx)("div",{className:"absolute inset-0 bg-gradient-to-b from-transparent to-black/60 flex items-center justify-center",children:(0,t.jsx)("span",{className:"text-white font-bold drop-shadow-md",children:"Galaxy"})})]}),(0,t.jsx)("p",{className:"text-center text-xs mt-2",children:"Galaxy"})]}),[{id:"neon-grid",name:"Neon Grid"},{id:"galaxy-swirl",name:"Galaxy Swirl"},{id:"aurora-waves",name:"Aurora Waves"},{id:"cosmic-stars",name:"Cosmic Stars"}].map(e=>{var a;let l=(null==h?void 0:h.activeProfileBackground)===e.id||(null==h?void 0:h.activeProfileBackground)==="profile-".concat(e.id),s="bg-".concat(e.id);return null==h||null===(a=h.purchasedItems)||void 0===a||a.includes(s),(0,t.jsxs)("div",{className:"p-2 border rounded-lg cursor-pointer transition-all \n                      ".concat(l?"border-space-gold bg-space-indigo/30":"border-space-indigo/30 hover:border-space-cyan"),onClick:()=>{x({activeProfileBackground:e.id}),R(e.id)},onMouseEnter:()=>R(e.id),onMouseLeave:()=>R((null==h?void 0:h.activeProfileBackground)||null),children:[(0,t.jsxs)("div",{className:"relative w-full h-16 rounded-lg overflow-hidden mx-auto",children:[(0,t.jsx)("div",{className:"absolute inset-0 ".concat("neon-grid"===e.id?"bg-gradient-to-r from-purple-900 to-blue-900":"galaxy-swirl"===e.id?"bg-gradient-to-r from-indigo-900 to-purple-900":"aurora-waves"===e.id?"bg-gradient-to-r from-green-900 to-cyan-900":"bg-gradient-to-r from-blue-900 to-indigo-800")}),"neon-grid"===e.id&&(0,t.jsxs)("div",{className:"absolute inset-0 opacity-70",children:[(0,t.jsx)("div",{className:"absolute left-0 right-0 h-[1px] top-1/4 bg-cyan-400 animate-pulse"}),(0,t.jsx)("div",{className:"absolute left-0 right-0 h-[1px] top-2/4 bg-purple-400 animate-pulse"}),(0,t.jsx)("div",{className:"absolute left-0 right-0 h-[1px] top-3/4 bg-cyan-400 animate-pulse"}),(0,t.jsx)("div",{className:"absolute top-0 bottom-0 w-[1px] left-1/4 bg-purple-400 animate-pulse"}),(0,t.jsx)("div",{className:"absolute top-0 bottom-0 w-[1px] left-2/4 bg-cyan-400 animate-pulse"}),(0,t.jsx)("div",{className:"absolute top-0 bottom-0 w-[1px] left-3/4 bg-purple-400 animate-pulse"}),(0,t.jsx)("div",{className:"absolute w-1.5 h-1.5 rounded-full bg-cyan-300 shadow-glow top-1/4 left-1/4 transform -translate-x-1/2 -translate-y-1/2"}),(0,t.jsx)("div",{className:"absolute w-1.5 h-1.5 rounded-full bg-purple-300 shadow-glow top-1/4 left-2/4 transform -translate-x-1/2 -translate-y-1/2"}),(0,t.jsx)("div",{className:"absolute w-1.5 h-1.5 rounded-full bg-cyan-300 shadow-glow top-1/4 left-3/4 transform -translate-x-1/2 -translate-y-1/2"}),(0,t.jsx)("div",{className:"absolute w-1.5 h-1.5 rounded-full bg-purple-300 shadow-glow top-2/4 left-1/4 transform -translate-x-1/2 -translate-y-1/2"}),(0,t.jsx)("div",{className:"absolute w-1.5 h-1.5 rounded-full bg-cyan-300 shadow-glow top-2/4 left-2/4 transform -translate-x-1/2 -translate-y-1/2"}),(0,t.jsx)("div",{className:"absolute w-1.5 h-1.5 rounded-full bg-purple-300 shadow-glow top-2/4 left-3/4 transform -translate-x-1/2 -translate-y-1/2"}),(0,t.jsx)("div",{className:"absolute w-1.5 h-1.5 rounded-full bg-cyan-300 shadow-glow top-3/4 left-1/4 transform -translate-x-1/2 -translate-y-1/2"}),(0,t.jsx)("div",{className:"absolute w-1.5 h-1.5 rounded-full bg-purple-300 shadow-glow top-3/4 left-2/4 transform -translate-x-1/2 -translate-y-1/2"}),(0,t.jsx)("div",{className:"absolute w-1.5 h-1.5 rounded-full bg-cyan-300 shadow-glow top-3/4 left-3/4 transform -translate-x-1/2 -translate-y-1/2"})]}),"galaxy-swirl"===e.id&&(0,t.jsxs)("div",{className:"absolute inset-0",children:[(0,t.jsx)("div",{className:"absolute inset-0 bg-indigo-800/30 mix-blend-overlay rounded-full scale-75 animate-spin-slow"}),(0,t.jsx)("div",{className:"absolute inset-0 bg-purple-700/40 mix-blend-overlay rounded-full scale-50 animate-spin-slow-reverse"}),(0,t.jsx)("div",{className:"w-1 h-1 bg-white rounded-full absolute top-1/4 left-1/3 shadow-glow animate-twinkle"}),(0,t.jsx)("div",{className:"w-1 h-1 bg-white rounded-full absolute top-3/5 left-3/4 shadow-glow animate-twinkle-delay-1"}),(0,t.jsx)("div",{className:"w-1 h-1 bg-white rounded-full absolute top-2/3 left-1/4 shadow-glow animate-twinkle-delay-2"})]}),"aurora-waves"===e.id&&(0,t.jsxs)("div",{className:"absolute inset-0",children:[(0,t.jsx)("div",{className:"absolute h-3 left-0 right-0 bottom-1/3 bg-gradient-to-r from-cyan-500/40 via-green-400/40 to-teal-300/40 blur-sm animate-aurora"}),(0,t.jsx)("div",{className:"absolute h-3 left-0 right-0 bottom-2/3 bg-gradient-to-r from-teal-300/40 via-cyan-500/40 to-green-400/40 blur-sm animate-aurora-delay"}),(0,t.jsx)("div",{className:"absolute h-2 left-0 right-0 bottom-1/2 bg-gradient-to-r from-green-400/40 via-teal-300/40 to-cyan-500/40 blur-sm animate-aurora-reverse"})]}),"cosmic-stars"===e.id&&(0,t.jsxs)("div",{className:"absolute inset-0",children:[(0,t.jsx)("div",{className:"w-1 h-1 bg-white rounded-full absolute top-1/4 left-1/4 shadow-glow animate-twinkle"}),(0,t.jsx)("div",{className:"w-1 h-1 bg-white rounded-full absolute top-3/4 left-2/4 shadow-glow animate-twinkle-delay-1"}),(0,t.jsx)("div",{className:"w-1 h-1 bg-white rounded-full absolute top-1/2 left-3/4 shadow-glow animate-twinkle-delay-2"}),(0,t.jsx)("div",{className:"w-1 h-1 bg-white rounded-full absolute top-1/3 left-1/2 shadow-glow animate-twinkle"}),(0,t.jsx)("div",{className:"w-1 h-1 bg-white rounded-full absolute top-2/3 left-1/5 shadow-glow animate-twinkle-delay-1"}),(0,t.jsx)("div",{className:"w-1 h-1 bg-white rounded-full absolute top-1/5 left-3/4 shadow-glow animate-twinkle-delay-2"})]}),(0,t.jsx)("img",{src:"/profile-backgrounds/".concat(e.id,".png"),alt:e.name,className:"w-full h-full object-cover",onError:a=>{let l=a.target;l.onerror=null;let t=["/profile-backgrounds/".concat(e.id,".jpg"),"/profile-backgrounds/profile-".concat(e.id,".png"),"/profile-backgrounds/profile-".concat(e.id,".jpg")];if(t.length>0){l.src=t[0];let e=1;l.onerror=function(){e<t.length?l.src=t[e++]:(l.style.opacity="0.3",l.onerror=null)}}}}),(0,t.jsx)("div",{className:"absolute inset-0 bg-gradient-to-b from-transparent to-black/60 flex items-center justify-center",children:(0,t.jsx)("span",{className:"text-white font-bold drop-shadow-md",children:e.name})})]}),(0,t.jsx)("p",{className:"text-center text-xs mt-2",children:e.name})]},e.id)}),(0,t.jsx)("a",{href:"/marketplace",className:"cursor-pointer",children:(0,t.jsxs)("div",{className:"p-2 border border-dashed rounded-lg transition-all border-space-indigo/30 hover:border-space-cyan hover:bg-space-blue/20",children:[(0,t.jsx)("div",{className:"relative w-full h-16 rounded-lg overflow-hidden mx-auto flex items-center justify-center bg-space-dark/30",children:(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 text-space-cyan",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})})}),(0,t.jsx)("p",{className:"text-center text-xs mt-2",children:"Get More"})]})})]})]}),(0,t.jsx)("div",{className:"mt-8 flex justify-end",children:(0,t.jsx)("button",{type:"submit",disabled:T||p,className:"btn-gradient disabled:opacity-50",children:T||p?"Saving...":"Save Changes"})}),f&&(0,t.jsx)("div",{className:"mt-4 p-4 bg-red-100 text-red-700 rounded-lg",children:f})]})})]})}},4233:(e,a,l)=>{"use strict";l.d(a,{A:()=>s});var t=l(5155);l(2115);let s=e=>{let{type:a,size:l=64,className:s="",children:r}=e,o={inferno:{primaryColor:"text-neon-red",shadowClass:"shadow-neon-red",animationClass:"animate-neon-breathe"},vortex:{primaryColor:"text-neon-blue",shadowClass:"shadow-neon-blue",animationClass:"animate-neon-rotate"},shadow:{primaryColor:"text-neon-purple",shadowClass:"shadow-neon-purple",animationClass:"animate-neon-flicker"},toxic:{primaryColor:"text-neon-green",shadowClass:"shadow-neon-green",animationClass:"animate-neon-color-shift"},cyber:{primaryColor:"text-neon-yellow",shadowClass:"shadow-neon-yellow",animationClass:"animate-neon-pulse-fast"}}[a];return(0,t.jsxs)("div",{className:"relative ".concat(s),style:{width:"".concat(l,"px"),height:"".concat(l,"px")},children:[(0,t.jsx)("div",{className:"absolute inset-2 rounded-full overflow-hidden z-10",children:r}),(0,t.jsxs)("div",{className:"absolute inset-0 rounded-full ".concat(o.primaryColor," ").concat(o.shadowClass," ").concat(o.animationClass),children:["inferno"===a&&(0,t.jsxs)("svg",{width:"100%",height:"100%",viewBox:"0 0 100 100",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,t.jsx)("circle",{cx:"50",cy:"50",r:"48",stroke:"currentColor",strokeWidth:"4"}),(0,t.jsx)("path",{d:"M50 0 L55 10 L45 10 Z",fill:"currentColor",transform:"rotate(0 50 50)"}),(0,t.jsx)("path",{d:"M50 0 L55 10 L45 10 Z",fill:"currentColor",transform:"rotate(90 50 50)"}),(0,t.jsx)("path",{d:"M50 0 L55 10 L45 10 Z",fill:"currentColor",transform:"rotate(180 50 50)"}),(0,t.jsx)("path",{d:"M50 0 L55 10 L45 10 Z",fill:"currentColor",transform:"rotate(270 50 50)"})]}),"vortex"===a&&(0,t.jsxs)("svg",{width:"100%",height:"100%",viewBox:"0 0 100 100",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,t.jsx)("circle",{cx:"50",cy:"50",r:"47",stroke:"currentColor",strokeWidth:"2"}),(0,t.jsx)("circle",{cx:"50",cy:"50",r:"45",stroke:"currentColor",strokeWidth:"1",strokeDasharray:"5 3"}),(0,t.jsx)("path",{d:"M50 5 Q80 50 50 95 Q20 50 50 5 Z",stroke:"currentColor",strokeWidth:"2",fill:"none"})]}),"shadow"===a&&(0,t.jsxs)("svg",{width:"100%",height:"100%",viewBox:"0 0 100 100",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,t.jsx)("circle",{cx:"50",cy:"50",r:"48",stroke:"currentColor",strokeWidth:"3"}),(0,t.jsx)("path",{d:"M20 20 L80 80",stroke:"currentColor",strokeWidth:"2"}),(0,t.jsx)("path",{d:"M80 20 L20 80",stroke:"currentColor",strokeWidth:"2"}),(0,t.jsx)("path",{d:"M50 10 L50 90",stroke:"currentColor",strokeWidth:"2"}),(0,t.jsx)("path",{d:"M10 50 L90 50",stroke:"currentColor",strokeWidth:"2"})]}),"toxic"===a&&(0,t.jsxs)("svg",{width:"100%",height:"100%",viewBox:"0 0 100 100",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,t.jsx)("circle",{cx:"50",cy:"50",r:"48",stroke:"currentColor",strokeWidth:"3"}),(0,t.jsx)("path",{d:"M50 10 L50 20 M50 80 L50 90 M10 50 L20 50 M80 50 L90 50",stroke:"currentColor",strokeWidth:"4"}),(0,t.jsx)("path",{d:"M25 25 L35 35 M65 65 L75 75 M25 75 L35 65 M65 35 L75 25",stroke:"currentColor",strokeWidth:"4"})]}),"cyber"===a&&(0,t.jsxs)("svg",{width:"100%",height:"100%",viewBox:"0 0 100 100",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,t.jsx)("circle",{cx:"50",cy:"50",r:"48",stroke:"currentColor",strokeWidth:"3"}),(0,t.jsx)("path",{d:"M20 30 H80 M20 50 H80 M20 70 H80",stroke:"currentColor",strokeWidth:"2",strokeDasharray:"5 5"}),(0,t.jsx)("path",{d:"M30 20 V80 M50 20 V80 M70 20 V80",stroke:"currentColor",strokeWidth:"2",strokeDasharray:"5 5"})]})]})]})}},5695:(e,a,l)=>{"use strict";var t=l(8999);l.o(t,"usePathname")&&l.d(a,{usePathname:function(){return t.usePathname}}),l.o(t,"useRouter")&&l.d(a,{useRouter:function(){return t.useRouter}})},5928:(e,a,l)=>{"use strict";l.d(a,{A:()=>c,O:()=>d});var t=l(5155),s=l(2115),r=l(3004),o=l(6104),i=l(5317);let n=(0,s.createContext)(null);function c(){let e=(0,s.useContext)(n);if(!e)throw Error("useAuth must be used within an AuthProvider");return e}function d(e){let{children:a}=e,[l,c]=(0,s.useState)(null),[d,u]=(0,s.useState)(!0);(0,s.useEffect)(()=>{let e=(0,r.hg)(o.j2,e=>{c(e),u(!1)});return(0,r.Q4)(o.j2).then(e=>{(null==e?void 0:e.user)&&c(e.user)}).catch(e=>{}),e},[]);let m=async(e,a,l)=>{let t=await (0,r.eJ)(o.j2,e,a),s=t.user;return l&&s&&(await (0,r.r7)(s,{displayName:l}),await (0,i.BN)((0,i.H9)(o.db,"userProfiles",s.uid),{email:s.email,username:l,displayName:l,createdAt:(0,i.O5)(),hasSetUsername:!0})),t},h=async()=>{try{o.hJ.setCustomParameters({prompt:"select_account"});let a=await (0,r.df)(o.j2,o.hJ,r.hk),l=a.user;if(l){var e;await (0,i.BN)((0,i.H9)(o.db,"userProfiles",l.uid),{email:l.email,displayName:l.displayName||(null===(e=l.email)||void 0===e?void 0:e.split("@")[0])||"User",photoURL:l.photoURL,createdAt:(0,i.O5)(),lastLogin:(0,i.O5)(),hasSetUsername:!1},{merge:!0})}return a}catch(e){if("auth/popup-blocked"===e.code||"auth/popup-closed-by-user"===e.code||"auth/cancelled-popup-request"===e.code){await (0,r.$2)(o.j2,o.hJ);return}throw e}};return(0,t.jsx)(n.Provider,{value:{user:l,loading:d,signUp:m,signIn:(e,a)=>(0,r.x9)(o.j2,e,a),signInWithGoogle:h,logout:()=>(0,r.CI)(o.j2)},children:a})}},6104:(e,a,l)=>{"use strict";let t;l.d(a,{IG:()=>d,db:()=>c,hJ:()=>u,j2:()=>n});var s=l(3915),r=l(3004),o=l(5317),i=l(858);let n=null,c=null,d=null,u=null;(t=(0,s.Dk)().length?(0,s.Dk)()[0]:(0,s.Wp)({apiKey:"AIzaSyCQf_QXzyZkyRxsbo91PJmdwjEn3lVfDTo",authDomain:"cosmicteams-bbf29.firebaseapp.com",projectId:"cosmicteams-bbf29",storageBucket:"cosmicteams-bbf29.appspot.com",messagingSenderId:"807144888137",appId:"1:807144888137:web:2621a3ac917d9675d6ec98"}))&&(n=(0,r.xI)(t),c=(0,o.aU)(t),d=(0,i.c7)(t),u=new r.HF)},6493:(e,a,l)=>{"use strict";l.d(a,{H:()=>m,x:()=>u});var t=l(5155),s=l(2115),r=l(5317),o=l(3004),i=l(858),n=l(6104),c=l(5928);let d=(0,s.createContext)(null);function u(){let e=(0,s.useContext)(d);if(!e)throw Error("useProfile must be used within a ProfileProvider");return e}function m(e){let{children:a}=e,{user:l}=(0,c.A)(),[u,m]=(0,s.useState)(null),[h,p]=(0,s.useState)(!0),[f,x]=(0,s.useState)(!1),[g,v]=(0,s.useState)(null);(0,s.useEffect)(()=>{!async function(){if(!l){m(null),p(!1);return}p(!0);try{let e={displayName:l.displayName||"",photoURL:l.photoURL||"",email:l.email||"",username:l.email?l.email.split("@")[0]:"",profileMusic:null,musicType:null,gameTiers:{"neth-op":"LT1",axe:"LT1",smp:"LT1",cpvp:"LT1",sword:"LT1",uhc:"LT1"},canCreateTeams:!0,lastUpdated:Date.now(),createdAt:Date.now(),cosmicTokens:100,spinnerUsed:0,lastSpinTime:0};if(l.uid&&n.db){let a=(0,r.H9)(n.db,"userProfiles",l.uid),t=await (0,r.x7)(a);t.exists()?m({...e,...t.data()}):(await (0,r.BN)(a,{...e,createdAt:Date.now(),lastUpdated:Date.now()}),m(e))}else m(e)}catch(e){v("Failed to load profile data"),l&&m({displayName:l.displayName||"",photoURL:l.photoURL||"",email:l.email||"",username:l.email?l.email.split("@")[0]:"",profileMusic:null,musicType:null})}finally{p(!1)}}()},[l,n.db]);let b=async e=>{if(l){x(!0),v(null);try{if(e.displayName||e.photoURL){let a={};e.displayName&&(a.displayName=e.displayName),e.photoURL&&(a.photoURL=e.photoURL),await (0,o.r7)(l,a)}if(void 0!==e.cosmicTokens){if(e.cosmicTokens<0)throw Error("Token amount cannot be negative");e.cosmicTokens=Number(e.cosmicTokens)}if(l.uid&&n.db){let a=(0,r.H9)(n.db,"userProfiles",l.uid),t={...e,lastUpdated:Date.now()};await (0,r.mZ)(a,t);let s=(await (0,r.x7)(a)).data();m(e=>e?{...e,...s}:null)}else m(a=>a?{...a,...e}:null)}catch(e){throw v("Failed to update profile"),e}finally{x(!1)}}},w=async e=>{if(!l)throw Error("User not authenticated");x(!0),v(null);try{if(e.size>2097152)throw Error("Image file is too large. Please select a file under 2MB.");if(!e.type.startsWith("image/"))throw Error("Please select a valid image file (JPG, PNG, etc.)");let a=(0,i.KR)(n.IG,"profile-images/".concat(l.uid,"/").concat(Date.now(),"-").concat(e.name));if((null==u?void 0:u.photoURL)&&u.photoURL.includes("firebasestorage.googleapis.com"))try{let e=(0,i.KR)(n.IG,u.photoURL);await (0,i.XR)(e)}catch(e){}await (0,i.D)(a,e);let t=await (0,i.qk)(a);return await b({photoURL:t}),t}catch(e){throw v(e instanceof Error?e.message:"Failed to upload profile image"),e}finally{x(!1)}},j=async e=>{if(l){x(!0),v(null);try{l.uid&&await b({gameTiers:e})}catch(e){throw v("Failed to update game tiers"),e}finally{x(!1)}}},y=async(e,a)=>{if(!l||!l.email)throw Error("User not authenticated or email not available");x(!0),v(null);try{let t=o.IX.credential(l.email,e);await (0,o.kZ)(l,t),await (0,o.f3)(l,a)}catch(e){throw"auth/wrong-password"===e.code?v("Current password is incorrect"):v("Failed to change password"),e}finally{x(!1)}},N=async(e,a)=>{if(!l||!l.email)throw Error("User not authenticated or email not available");x(!0),v(null);try{let t=o.IX.credential(l.email,e);await (0,o.kZ)(l,t),await (0,o.Ww)(l,a),await b({email:a})}catch(e){throw"auth/wrong-password"===e.code?v("Current password is incorrect"):"auth/email-already-in-use"===e.code?v("This email is already in use by another account"):v("Failed to change email"),e}finally{x(!1)}};return(0,t.jsx)(d.Provider,{value:{profile:u,loading:h,updating:f,error:g,updateProfileData:b,uploadProfileImage:w,changePassword:y,changeEmail:N,updateAllGameTiers:j},children:a})}},8019:(e,a,l)=>{Promise.resolve().then(l.bind(l,3246))}},e=>{var a=a=>e(e.s=a);e.O(0,[611,416,835,441,684,358],()=>a(8019)),_N_E=e.O()}]);