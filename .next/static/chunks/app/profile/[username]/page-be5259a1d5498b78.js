(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[381],{255:(e,t,a)=>{"use strict";function s(e){let{moduleIds:t}=e;return null}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"PreloadChunks",{enumerable:!0,get:function(){return s}}),a(5155),a(7650),a(5744),a(589)},1584:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});var s=a(5155);let l=(0,a(5028).default)(()=>Promise.all([a.e(766),a.e(874),a.e(615)]).then(a.bind(a,4615)),{loadableGenerated:{webpack:()=>[4615]},ssr:!1});function r(){return(0,s.jsx)(l,{})}},1619:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>x});var s=a(5155),l=a(2115),r=a(5695),o=a(5317),n=a(6104),i=a(5928),c=a(6493),d=a(1584),u=a(6766),m=a(6874),h=a.n(m),p=a(4233);let f={"neth-op":"Nether OP",axe:"Axe",smp:"SMP",cpvp:"Crystal PVP",sword:"Sword",uhc:"UHC"},g={LT1:{color:"text-gray-200",bgColor:"bg-gray-700"},LT2:{color:"text-gray-200",bgColor:"bg-gray-600"},LT3:{color:"text-gray-200",bgColor:"bg-gray-500"},LT4:{color:"text-gray-200",bgColor:"bg-gray-400"},LT5:{color:"text-gray-900",bgColor:"bg-gray-300"},HT1:{color:"text-green-200",bgColor:"bg-green-800"},HT2:{color:"text-blue-200",bgColor:"bg-blue-800"},HT3:{color:"text-purple-200",bgColor:"bg-purple-800"},HT4:{color:"text-pink-200",bgColor:"bg-pink-800"},HT5:{color:"text-yellow-200",bgColor:"bg-yellow-800"}},b={LT1:"Beginner - Getting started with basic skills",LT2:"Novice - Showing progress with fundamentals",LT3:"Apprentice - Developing consistent skills",LT4:"Journeyman - Competent in most situations",LT5:"Adept - Highly capable with good strategy",HT1:"Expert - Superior skills with advanced techniques",HT2:"Master - Exceptional player with deep knowledge",HT3:"Champion - Elite player with strategic mastery",HT4:"Legend - Renowned for outstanding abilities",HT5:"Cosmic - The absolute pinnacle of the game"},w=e=>{let{decorationType:t}=e;if(null==t?void 0:t.includes("neon-")){let e=t.replace("neon-","");return(0,s.jsx)("div",{className:"absolute inset-0 z-10",children:(0,s.jsx)(p.A,{type:e,size:128})})}switch(t){case"gold-frame":return(0,s.jsx)("img",{src:"/avatar-frames/gold-frame.png",alt:"Gold Frame",className:"absolute inset-0 w-full h-full pointer-events-none animate-pulse-slow z-10"});case"cosmic-frame":return(0,s.jsx)("img",{src:"/avatar-frames/cosmic-frame.png",alt:"Cosmic Frame",className:"absolute inset-0 w-full h-full pointer-events-none animate-spin-slow z-10"});case"silver-frame":return(0,s.jsx)("img",{src:"/avatar-frames/silver-frame.png",alt:"Silver Frame",className:"absolute inset-0 w-full h-full pointer-events-none z-10"});case"diamond-frame":return(0,s.jsx)("img",{src:"/avatar-frames/diamond-frame.png",alt:"Diamond Frame",className:"absolute inset-0 w-full h-full pointer-events-none animate-hue-rotate z-10"});case"crown":return(0,s.jsx)("div",{className:"absolute -top-3 left-1/2 transform -translate-x-1/2 z-10",children:(0,s.jsx)("svg",{width:"24",height:"16",viewBox:"0 0 24 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,s.jsx)("path",{d:"M12 0L16 6L24 4L20 16H4L0 4L8 6L12 0Z",fill:"#F7B928"})})});case"cosmic-aura":return(0,s.jsx)("div",{className:"absolute -inset-2 rounded-full bg-gradient-to-r from-space-indigo via-space-purple to-space-cyan opacity-40 animate-pulse-slow cosmic-glow z-0"});case"stars":return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"absolute -top-1 -right-1 text-space-gold animate-twinkle z-10",children:"★"}),(0,s.jsx)("div",{className:"absolute top-1 -left-2 text-space-gold animate-twinkle-delay-1 z-10",children:"★"}),(0,s.jsx)("div",{className:"absolute -bottom-1 right-0 text-space-gold animate-twinkle-delay-2 z-10",children:"★"})]});case"halo":return(0,s.jsx)("div",{className:"absolute -top-3 left-1/2 transform -translate-x-1/2 w-16 h-4 rounded-full border-2 border-space-gold bg-space-gold/20 z-10"});default:return null}};function x(e){var t;let{params:a}=e,m=(0,r.useRouter)(),{user:x}=(0,i.A)(),{profile:v}=(0,c.x)(),[j,y]=(0,l.useState)(null),[N,k]=(0,l.useState)([]),[C,L]=(0,l.useState)(!0),[P,T]=(0,l.useState)(null),M=decodeURIComponent(a.username),S=M.includes("@"),U=(null==x?void 0:x.email)===M||!S&&(null==v?void 0:v.username)===M;return((0,l.useEffect)(()=>{if(!x){m.push("/login");return}(async()=>{try{let e;if(L(!0),T(null),S){let t=(0,o.rJ)(n.db,"userProfiles"),a=(0,o.P)(t,(0,o._M)("email","==",M)),s=await (0,o.GG)(a);s.empty||(e=s.docs[0])}else{let t=(0,o.rJ)(n.db,"userProfiles"),a=(await (0,o.GG)(t)).docs.find(e=>{let t=e.data();return t.username&&t.username.toLowerCase()===M.toLowerCase()});a&&(e=a)}if(e&&e.exists()){let t=e.data();y(t);let a=(0,o.rJ)(n.db,"teams"),s=t.email,l=(0,o.P)(a,(0,o._M)("members","array-contains",s)),r=await (0,o.GG)(l),i=[];r.forEach(e=>{i.push({id:e.id,...e.data()})}),k(i)}else T("User profile not found. Please check the username or email and try again.")}catch(e){T("Failed to load user profile. Please try again later.")}finally{L(!1)}})()},[x,M,m,S,null==v?void 0:v.username]),C)?(0,s.jsxs)("main",{className:"min-h-screen flex flex-col",children:[(0,s.jsx)(d.A,{}),(0,s.jsx)("div",{className:"flex-1 py-16 px-6 flex items-center justify-center",children:(0,s.jsxs)("div",{className:"cosmic-card p-8",children:[(0,s.jsx)("div",{className:"animate-spin w-12 h-12 border-4 border-space-cyan border-t-transparent rounded-full mx-auto"}),(0,s.jsx)("p",{className:"text-center mt-4",children:"Loading profile..."})]})})]}):P||!j?(0,s.jsxs)("main",{className:"min-h-screen flex flex-col",children:[(0,s.jsx)(d.A,{}),(0,s.jsx)("div",{className:"flex-1 py-16 px-6 flex items-center justify-center",children:(0,s.jsxs)("div",{className:"cosmic-card p-8 max-w-md",children:[(0,s.jsx)("h2",{className:"text-2xl font-bold text-red-500 mb-4",children:"Profile Not Found"}),(0,s.jsx)("p",{className:"mb-6",children:P||"Could not locate this user profile"}),(0,s.jsxs)("div",{className:"flex flex-col space-y-4",children:[(0,s.jsx)("button",{onClick:()=>m.push("/dashboard"),className:"btn-primary",children:"Return to Dashboard"}),(0,s.jsx)("button",{onClick:()=>m.back(),className:"btn-secondary",children:"Go Back"})]})]})})]}):(0,s.jsxs)("main",{className:"min-h-screen flex flex-col",children:[(0,s.jsx)(d.A,{}),(0,s.jsxs)("div",{className:"flex-1 px-6 py-12 relative overflow-hidden",children:[(0,s.jsxs)("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[j.activeProfileBackground&&(0,s.jsxs)("div",{className:"absolute inset-0 z-0",children:[(()=>{let e=j.activeProfileBackground;if("neon-grid"===e||"profile-neon-grid"===e)return(0,s.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-purple-900 to-blue-900 opacity-70",children:(0,s.jsxs)("div",{className:"absolute inset-0 opacity-70",children:[(0,s.jsx)("div",{className:"absolute left-0 right-0 h-[1px] top-1/4 bg-cyan-400 animate-pulse"}),(0,s.jsx)("div",{className:"absolute left-0 right-0 h-[1px] top-2/4 bg-purple-400 animate-pulse"}),(0,s.jsx)("div",{className:"absolute left-0 right-0 h-[1px] top-3/4 bg-cyan-400 animate-pulse"}),(0,s.jsx)("div",{className:"absolute top-0 bottom-0 w-[1px] left-1/4 bg-purple-400 animate-pulse"}),(0,s.jsx)("div",{className:"absolute top-0 bottom-0 w-[1px] left-2/4 bg-cyan-400 animate-pulse"}),(0,s.jsx)("div",{className:"absolute top-0 bottom-0 w-[1px] left-3/4 bg-purple-400 animate-pulse"}),(0,s.jsx)("div",{className:"absolute w-2 h-2 rounded-full bg-cyan-300 shadow-glow top-1/4 left-1/4 transform -translate-x-1/2 -translate-y-1/2"}),(0,s.jsx)("div",{className:"absolute w-2 h-2 rounded-full bg-purple-300 shadow-glow top-1/4 left-2/4 transform -translate-x-1/2 -translate-y-1/2"}),(0,s.jsx)("div",{className:"absolute w-2 h-2 rounded-full bg-cyan-300 shadow-glow top-1/4 left-3/4 transform -translate-x-1/2 -translate-y-1/2"}),(0,s.jsx)("div",{className:"absolute w-2 h-2 rounded-full bg-purple-300 shadow-glow top-2/4 left-1/4 transform -translate-x-1/2 -translate-y-1/2"}),(0,s.jsx)("div",{className:"absolute w-2 h-2 rounded-full bg-cyan-300 shadow-glow top-2/4 left-2/4 transform -translate-x-1/2 -translate-y-1/2"}),(0,s.jsx)("div",{className:"absolute w-2 h-2 rounded-full bg-purple-300 shadow-glow top-2/4 left-3/4 transform -translate-x-1/2 -translate-y-1/2"}),(0,s.jsx)("div",{className:"absolute w-2 h-2 rounded-full bg-cyan-300 shadow-glow top-3/4 left-1/4 transform -translate-x-1/2 -translate-y-1/2"}),(0,s.jsx)("div",{className:"absolute w-2 h-2 rounded-full bg-purple-300 shadow-glow top-3/4 left-2/4 transform -translate-x-1/2 -translate-y-1/2"}),(0,s.jsx)("div",{className:"absolute w-2 h-2 rounded-full bg-cyan-300 shadow-glow top-3/4 left-3/4 transform -translate-x-1/2 -translate-y-1/2"})]})});if("galaxy-swirl"===e||"profile-galaxy-swirl"===e)return(0,s.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-indigo-900 to-purple-900 opacity-70",children:(0,s.jsxs)("div",{className:"absolute inset-0",children:[(0,s.jsx)("div",{className:"absolute inset-0 bg-indigo-800/30 mix-blend-overlay rounded-full scale-75 animate-spin-slow"}),(0,s.jsx)("div",{className:"absolute inset-0 bg-purple-700/40 mix-blend-overlay rounded-full scale-50 animate-spin-slow-reverse"}),(0,s.jsx)("div",{className:"w-1.5 h-1.5 bg-white rounded-full absolute top-1/4 left-1/3 shadow-glow animate-twinkle"}),(0,s.jsx)("div",{className:"w-1.5 h-1.5 bg-white rounded-full absolute top-3/5 left-3/4 shadow-glow animate-twinkle-delay-1"}),(0,s.jsx)("div",{className:"w-1.5 h-1.5 bg-white rounded-full absolute top-2/3 left-1/4 shadow-glow animate-twinkle-delay-2"}),(0,s.jsx)("div",{className:"w-1.5 h-1.5 bg-white rounded-full absolute top-1/5 right-1/3 shadow-glow animate-twinkle"}),(0,s.jsx)("div",{className:"w-1.5 h-1.5 bg-white rounded-full absolute bottom-1/4 right-1/4 shadow-glow animate-twinkle-delay-1"})]})});if("aurora-waves"===e||"profile-aurora-waves"===e)return(0,s.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-green-900 to-cyan-900 opacity-70",children:(0,s.jsxs)("div",{className:"absolute inset-0",children:[(0,s.jsx)("div",{className:"absolute h-24 left-0 right-0 bottom-1/3 bg-gradient-to-r from-cyan-500/40 via-green-400/40 to-teal-300/40 blur-sm animate-aurora"}),(0,s.jsx)("div",{className:"absolute h-24 left-0 right-0 bottom-2/3 bg-gradient-to-r from-teal-300/40 via-cyan-500/40 to-green-400/40 blur-sm animate-aurora-delay"}),(0,s.jsx)("div",{className:"absolute h-16 left-0 right-0 bottom-1/2 bg-gradient-to-r from-green-400/40 via-teal-300/40 to-cyan-500/40 blur-sm animate-aurora-reverse"})]})});if("cosmic-stars"===e||"profile-cosmic-stars"===e)return(0,s.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-900 to-indigo-900 opacity-70",children:(0,s.jsxs)("div",{className:"absolute inset-0",children:[(0,s.jsx)("div",{className:"w-1.5 h-1.5 bg-white rounded-full absolute top-1/4 left-1/4 shadow-glow animate-twinkle"}),(0,s.jsx)("div",{className:"w-1.5 h-1.5 bg-white rounded-full absolute top-3/4 left-2/4 shadow-glow animate-twinkle-delay-1"}),(0,s.jsx)("div",{className:"w-1.5 h-1.5 bg-white rounded-full absolute top-1/2 left-3/4 shadow-glow animate-twinkle-delay-2"}),(0,s.jsx)("div",{className:"w-1.5 h-1.5 bg-white rounded-full absolute top-1/3 left-1/2 shadow-glow animate-twinkle"}),(0,s.jsx)("div",{className:"w-1.5 h-1.5 bg-white rounded-full absolute top-2/3 left-1/5 shadow-glow animate-twinkle-delay-1"}),(0,s.jsx)("div",{className:"w-1.5 h-1.5 bg-white rounded-full absolute top-1/5 left-3/4 shadow-glow animate-twinkle-delay-2"}),(0,s.jsx)("div",{className:"w-1.5 h-1.5 bg-white rounded-full absolute bottom-1/6 right-1/6 shadow-glow animate-twinkle"}),(0,s.jsx)("div",{className:"w-1.5 h-1.5 bg-white rounded-full absolute top-1/6 right-1/3 shadow-glow animate-twinkle-delay-1"}),(0,s.jsx)("div",{className:"w-1.5 h-1.5 bg-white rounded-full absolute bottom-1/3 left-1/3 shadow-glow animate-twinkle-delay-2"})]})});if("galaxy"===e)return(0,s.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-indigo-900 to-purple-900 opacity-70",children:(0,s.jsxs)("div",{className:"absolute inset-0",children:[(0,s.jsx)("div",{className:"w-1.5 h-1.5 bg-white rounded-full absolute top-1/5 left-1/5 shadow-glow animate-twinkle"}),(0,s.jsx)("div",{className:"w-1.5 h-1.5 bg-white rounded-full absolute bottom-1/4 right-1/3 shadow-glow animate-twinkle-delay-1"}),(0,s.jsx)("div",{className:"w-1.5 h-1.5 bg-white rounded-full absolute top-1/2 right-1/4 shadow-glow animate-twinkle-delay-2"}),(0,s.jsx)("div",{className:"w-1.5 h-1.5 bg-white rounded-full absolute bottom-1/3 left-1/4 shadow-glow animate-twinkle"})]})});return(0,s.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-space-dark to-space-dark/80 opacity-70"})})(),(0,s.jsx)("div",{className:"absolute inset-0 z-10",children:(0,s.jsx)("img",{src:"/profile-backgrounds/".concat(j.activeProfileBackground,".png"),alt:"Profile Background",className:"w-full h-full object-cover opacity-40",onError:e=>{let t=e.target;t.onerror=null;let a=j.activeProfileBackground,s=[];if((s=a.startsWith("profile-")?["/profile-backgrounds/".concat(a,".jpg"),"/profile-backgrounds/".concat(a.substring(8),".png"),"/profile-backgrounds/".concat(a.substring(8),".jpg"),"/backgrounds/".concat(a,".png"),"/backgrounds/".concat(a,".jpg"),"/backgrounds/".concat(a.substring(8),".png"),"/backgrounds/".concat(a.substring(8),".jpg")]:["/profile-backgrounds/".concat(a,".jpg"),"/profile-backgrounds/profile-".concat(a,".png"),"/profile-backgrounds/profile-".concat(a,".jpg"),"/backgrounds/".concat(a,".png"),"/backgrounds/".concat(a,".jpg"),"/backgrounds/profile-".concat(a,".png"),"/backgrounds/profile-".concat(a,".jpg")]).length>0){t.src=s[0];let e=1;t.onerror=function(){e<s.length?t.src=s[e++]:(t.style.display="none",t.onerror=null)}}}})})]}),(0,s.jsx)("div",{className:"absolute w-96 h-96 rounded-full bg-space-purple/20 blur-3xl -top-48 -left-48 animate-pulse-slow"}),(0,s.jsx)("div",{className:"absolute w-80 h-80 rounded-full bg-space-indigo/20 blur-3xl bottom-0 right-0 animate-pulse-slow delay-1000"}),(0,s.jsx)("div",{className:"absolute w-64 h-64 rounded-full bg-space-cyan/10 blur-3xl top-1/3 left-1/3 animate-pulse-slow delay-2000"}),(0,s.jsx)("div",{className:"absolute top-1/4 left-1/5 w-2 h-2 bg-white rounded-full opacity-70 twinkle"}),(0,s.jsx)("div",{className:"absolute top-1/3 right-1/4 w-1 h-1 bg-white rounded-full opacity-80 twinkle-delay-1"}),(0,s.jsx)("div",{className:"absolute bottom-1/4 left-1/2 w-2 h-2 bg-white rounded-full opacity-60 twinkle-delay-2"})]}),(0,s.jsxs)("div",{className:"container mx-auto max-w-5xl",children:[(0,s.jsx)("div",{className:"cosmic-card border border-space-purple/30 mb-8 p-8 cosmic-shadow-md ".concat(j.activeProfileBackground?"bg-transparent backdrop-blur-sm backdrop-filter":""),children:(0,s.jsxs)("div",{className:"flex flex-col md:flex-row gap-8 items-start",children:[(0,s.jsxs)("div",{className:"flex-shrink-0 relative",children:[(0,s.jsx)("div",{className:"w-32 h-32 rounded-xl overflow-hidden cosmic-shadow-sm relative",children:(null===(t=j.activeAvatarDecoration)||void 0===t?void 0:t.includes("neon-"))?(0,s.jsx)(p.A,{type:j.activeAvatarDecoration.replace("neon-",""),size:128,children:(0,s.jsx)(u.default,{src:j.photoURL||"/default-avatar.png",alt:j.displayName||"User",width:128,height:128,className:"w-full h-full object-cover"})}):(0,s.jsxs)("div",{className:"w-full h-full rounded-lg relative",children:[(0,s.jsx)("div",{className:"w-full h-full rounded-lg overflow-hidden",children:(0,s.jsx)(u.default,{src:j.photoURL||"/default-avatar.png",alt:j.displayName||"User",width:128,height:128,className:"w-full h-full object-cover"})}),j.activeAvatarDecoration&&(0,s.jsx)(w,{decorationType:j.activeAvatarDecoration})]})}),(0,s.jsx)("div",{className:"mt-4 text-center",children:(0,s.jsxs)("div",{className:"inline-block px-3 py-1 rounded-full bg-space-indigo/40 border border-space-indigo/60 text-sm font-medium",children:["@",j.username||"username"]})})]}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("h1",{className:"text-3xl md:text-4xl font-bold font-space mb-3",children:j.displayName||"User"}),j.bio&&(0,s.jsx)("p",{className:"text-cosmic-text-secondary mb-6",children:j.bio}),(0,s.jsxs)("div",{className:"mb-6",children:[(0,s.jsx)("h2",{className:"text-xl font-bold text-space-cyan mb-3",children:"Teams"}),N.length>0?(0,s.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:N.map(e=>(0,s.jsxs)("div",{className:"flex items-center space-x-3 p-3 bg-space-blue/30 rounded-lg border border-space-purple/20 hover:border-space-purple/40 transition",children:[(0,s.jsx)("div",{className:"w-10 h-10 rounded-lg overflow-hidden bg-space-dark",children:(0,s.jsx)(u.default,{src:e.logo||"/default-team-logo.png",alt:e.name,width:40,height:40,className:"w-full h-full object-cover"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)(h(),{href:"/teams/".concat(e.id),className:"hover:text-space-cyan transition",children:e.name}),(0,s.jsxs)("div",{className:"text-xs text-space-gold",children:[e.points||0," points"]})]})]},e.id))}):(0,s.jsx)("p",{className:"text-cosmic-text-secondary",children:"Not a member of any teams"})]}),x&&U&&(0,s.jsx)("div",{className:"flex justify-end mt-4",children:(0,s.jsx)(h(),{href:"/profile",className:"btn-gradient-secondary",children:"Edit Profile"})})]})]})}),(0,s.jsxs)("div",{className:"cosmic-card border border-space-indigo/30 p-8 cosmic-shadow-md ".concat(j.activeProfileBackground?"bg-transparent backdrop-blur-sm backdrop-filter":""),children:[(0,s.jsx)("h2",{className:"text-2xl font-bold text-space-cyan mb-6",children:"Skills"}),(0,s.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:Object.entries(f).map(e=>{var t;let[a,l]=e,r=(null===(t=j.gameTiers)||void 0===t?void 0:t[a])||"LT1",o=g[r];return(0,s.jsxs)("div",{className:"border border-space-blue/40 rounded-lg p-4 bg-space-blue/20 cosmic-shadow-sm hover:border-space-blue/60 transition",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold",children:l}),(0,s.jsx)("div",{className:"px-3 py-1 rounded-full ".concat(o.bgColor," ").concat(o.color," text-sm font-medium animate-shimmer"),children:r})]}),(0,s.jsx)("p",{className:"text-sm text-cosmic-text-secondary",children:b[r]})]},a)})})]})]})]})]})}},2146:(e,t,a)=>{"use strict";function s(e){let{reason:t,children:a}=e;return a}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"BailoutToCSR",{enumerable:!0,get:function(){return s}}),a(5262)},2387:(e,t,a)=>{Promise.resolve().then(a.bind(a,1619))},4054:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var a in t)Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}(t,{bindSnapshot:function(){return o},createAsyncLocalStorage:function(){return r},createSnapshot:function(){return n}});let a=Object.defineProperty(Error("Invariant: AsyncLocalStorage accessed in runtime where it is not available"),"__NEXT_ERROR_CODE",{value:"E504",enumerable:!1,configurable:!0});class s{disable(){throw a}getStore(){}run(){throw a}exit(){throw a}enterWith(){throw a}static bind(e){return e}}let l="undefined"!=typeof globalThis&&globalThis.AsyncLocalStorage;function r(){return l?new l:new s}function o(e){return l?l.bind(e):s.bind(e)}function n(){return l?l.snapshot():function(e,...t){return e(...t)}}},4233:(e,t,a)=>{"use strict";a.d(t,{A:()=>l});var s=a(5155);a(2115);let l=e=>{let{type:t,size:a=64,className:l="",children:r}=e,o={inferno:{primaryColor:"text-neon-red",shadowClass:"shadow-neon-red",animationClass:"animate-neon-breathe"},vortex:{primaryColor:"text-neon-blue",shadowClass:"shadow-neon-blue",animationClass:"animate-neon-rotate"},shadow:{primaryColor:"text-neon-purple",shadowClass:"shadow-neon-purple",animationClass:"animate-neon-flicker"},toxic:{primaryColor:"text-neon-green",shadowClass:"shadow-neon-green",animationClass:"animate-neon-color-shift"},cyber:{primaryColor:"text-neon-yellow",shadowClass:"shadow-neon-yellow",animationClass:"animate-neon-pulse-fast"}}[t];return(0,s.jsxs)("div",{className:"relative ".concat(l),style:{width:"".concat(a,"px"),height:"".concat(a,"px")},children:[(0,s.jsx)("div",{className:"absolute inset-2 rounded-full overflow-hidden z-10",children:r}),(0,s.jsxs)("div",{className:"absolute inset-0 rounded-full ".concat(o.primaryColor," ").concat(o.shadowClass," ").concat(o.animationClass),children:["inferno"===t&&(0,s.jsxs)("svg",{width:"100%",height:"100%",viewBox:"0 0 100 100",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,s.jsx)("circle",{cx:"50",cy:"50",r:"48",stroke:"currentColor",strokeWidth:"4"}),(0,s.jsx)("path",{d:"M50 0 L55 10 L45 10 Z",fill:"currentColor",transform:"rotate(0 50 50)"}),(0,s.jsx)("path",{d:"M50 0 L55 10 L45 10 Z",fill:"currentColor",transform:"rotate(90 50 50)"}),(0,s.jsx)("path",{d:"M50 0 L55 10 L45 10 Z",fill:"currentColor",transform:"rotate(180 50 50)"}),(0,s.jsx)("path",{d:"M50 0 L55 10 L45 10 Z",fill:"currentColor",transform:"rotate(270 50 50)"})]}),"vortex"===t&&(0,s.jsxs)("svg",{width:"100%",height:"100%",viewBox:"0 0 100 100",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,s.jsx)("circle",{cx:"50",cy:"50",r:"47",stroke:"currentColor",strokeWidth:"2"}),(0,s.jsx)("circle",{cx:"50",cy:"50",r:"45",stroke:"currentColor",strokeWidth:"1",strokeDasharray:"5 3"}),(0,s.jsx)("path",{d:"M50 5 Q80 50 50 95 Q20 50 50 5 Z",stroke:"currentColor",strokeWidth:"2",fill:"none"})]}),"shadow"===t&&(0,s.jsxs)("svg",{width:"100%",height:"100%",viewBox:"0 0 100 100",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,s.jsx)("circle",{cx:"50",cy:"50",r:"48",stroke:"currentColor",strokeWidth:"3"}),(0,s.jsx)("path",{d:"M20 20 L80 80",stroke:"currentColor",strokeWidth:"2"}),(0,s.jsx)("path",{d:"M80 20 L20 80",stroke:"currentColor",strokeWidth:"2"}),(0,s.jsx)("path",{d:"M50 10 L50 90",stroke:"currentColor",strokeWidth:"2"}),(0,s.jsx)("path",{d:"M10 50 L90 50",stroke:"currentColor",strokeWidth:"2"})]}),"toxic"===t&&(0,s.jsxs)("svg",{width:"100%",height:"100%",viewBox:"0 0 100 100",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,s.jsx)("circle",{cx:"50",cy:"50",r:"48",stroke:"currentColor",strokeWidth:"3"}),(0,s.jsx)("path",{d:"M50 10 L50 20 M50 80 L50 90 M10 50 L20 50 M80 50 L90 50",stroke:"currentColor",strokeWidth:"4"}),(0,s.jsx)("path",{d:"M25 25 L35 35 M65 65 L75 75 M25 75 L35 65 M65 35 L75 25",stroke:"currentColor",strokeWidth:"4"})]}),"cyber"===t&&(0,s.jsxs)("svg",{width:"100%",height:"100%",viewBox:"0 0 100 100",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,s.jsx)("circle",{cx:"50",cy:"50",r:"48",stroke:"currentColor",strokeWidth:"3"}),(0,s.jsx)("path",{d:"M20 30 H80 M20 50 H80 M20 70 H80",stroke:"currentColor",strokeWidth:"2",strokeDasharray:"5 5"}),(0,s.jsx)("path",{d:"M30 20 V80 M50 20 V80 M70 20 V80",stroke:"currentColor",strokeWidth:"2",strokeDasharray:"5 5"})]})]})]})}},5028:(e,t,a)=>{"use strict";a.d(t,{default:()=>l.a});var s=a(6645),l=a.n(s)},5695:(e,t,a)=>{"use strict";var s=a(8999);a.o(s,"usePathname")&&a.d(t,{usePathname:function(){return s.usePathname}}),a.o(s,"useRouter")&&a.d(t,{useRouter:function(){return s.useRouter}})},5744:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"workAsyncStorage",{enumerable:!0,get:function(){return s.workAsyncStorageInstance}});let s=a(7828)},5928:(e,t,a)=>{"use strict";a.d(t,{A:()=>c,O:()=>d});var s=a(5155),l=a(2115),r=a(3004),o=a(6104),n=a(5317);let i=(0,l.createContext)(null);function c(){let e=(0,l.useContext)(i);if(!e)throw Error("useAuth must be used within an AuthProvider");return e}function d(e){let{children:t}=e,[a,c]=(0,l.useState)(null),[d,u]=(0,l.useState)(!0);(0,l.useEffect)(()=>{let e=(0,r.hg)(o.j2,e=>{c(e),u(!1)});return(0,r.Q4)(o.j2).then(e=>{(null==e?void 0:e.user)&&c(e.user)}).catch(e=>{}),e},[]);let m=async(e,t,a)=>{let s=await (0,r.eJ)(o.j2,e,t),l=s.user;return a&&l&&(await (0,r.r7)(l,{displayName:a}),await (0,n.BN)((0,n.H9)(o.db,"userProfiles",l.uid),{email:l.email,username:a,displayName:a,createdAt:(0,n.O5)(),hasSetUsername:!0})),s},h=async()=>{try{o.hJ.setCustomParameters({prompt:"select_account"});let t=await (0,r.df)(o.j2,o.hJ,r.hk),a=t.user;if(a){var e;await (0,n.BN)((0,n.H9)(o.db,"userProfiles",a.uid),{email:a.email,displayName:a.displayName||(null===(e=a.email)||void 0===e?void 0:e.split("@")[0])||"User",photoURL:a.photoURL,createdAt:(0,n.O5)(),lastLogin:(0,n.O5)(),hasSetUsername:!1},{merge:!0})}return t}catch(e){if("auth/popup-blocked"===e.code||"auth/popup-closed-by-user"===e.code||"auth/cancelled-popup-request"===e.code){await (0,r.$2)(o.j2,o.hJ);return}throw e}};return(0,s.jsx)(i.Provider,{value:{user:a,loading:d,signUp:m,signIn:(e,t)=>(0,r.x9)(o.j2,e,t),signInWithGoogle:h,logout:()=>(0,r.CI)(o.j2)},children:t})}},6104:(e,t,a)=>{"use strict";let s;a.d(t,{IG:()=>d,db:()=>c,hJ:()=>u,j2:()=>i});var l=a(3915),r=a(3004),o=a(5317),n=a(858);let i=null,c=null,d=null,u=null;(s=(0,l.Dk)().length?(0,l.Dk)()[0]:(0,l.Wp)({apiKey:"AIzaSyCQf_QXzyZkyRxsbo91PJmdwjEn3lVfDTo",authDomain:"cosmicteams-bbf29.firebaseapp.com",projectId:"cosmicteams-bbf29",storageBucket:"cosmicteams-bbf29.appspot.com",messagingSenderId:"807144888137",appId:"1:807144888137:web:2621a3ac917d9675d6ec98"}))&&(i=(0,r.xI)(s),c=(0,o.aU)(s),d=(0,n.c7)(s),u=new r.HF)},6493:(e,t,a)=>{"use strict";a.d(t,{H:()=>m,x:()=>u});var s=a(5155),l=a(2115),r=a(5317),o=a(3004),n=a(858),i=a(6104),c=a(5928);let d=(0,l.createContext)(null);function u(){let e=(0,l.useContext)(d);if(!e)throw Error("useProfile must be used within a ProfileProvider");return e}function m(e){let{children:t}=e,{user:a}=(0,c.A)(),[u,m]=(0,l.useState)(null),[h,p]=(0,l.useState)(!0),[f,g]=(0,l.useState)(!1),[b,w]=(0,l.useState)(null);(0,l.useEffect)(()=>{!async function(){if(!a){m(null),p(!1);return}p(!0);try{let e={displayName:a.displayName||"",photoURL:a.photoURL||"",email:a.email||"",username:a.email?a.email.split("@")[0]:"",profileMusic:null,musicType:null,gameTiers:{"neth-op":"LT1",axe:"LT1",smp:"LT1",cpvp:"LT1",sword:"LT1",uhc:"LT1"},canCreateTeams:!0,lastUpdated:Date.now(),createdAt:Date.now(),cosmicTokens:100,spinnerUsed:0,lastSpinTime:0};if(a.uid&&i.db){let t=(0,r.H9)(i.db,"userProfiles",a.uid),s=await (0,r.x7)(t);s.exists()?m({...e,...s.data()}):(await (0,r.BN)(t,{...e,createdAt:Date.now(),lastUpdated:Date.now()}),m(e))}else m(e)}catch(e){w("Failed to load profile data"),a&&m({displayName:a.displayName||"",photoURL:a.photoURL||"",email:a.email||"",username:a.email?a.email.split("@")[0]:"",profileMusic:null,musicType:null})}finally{p(!1)}}()},[a,i.db]);let x=async e=>{if(a){g(!0),w(null);try{if(e.displayName||e.photoURL){let t={};e.displayName&&(t.displayName=e.displayName),e.photoURL&&(t.photoURL=e.photoURL),await (0,o.r7)(a,t)}if(void 0!==e.cosmicTokens){if(e.cosmicTokens<0)throw Error("Token amount cannot be negative");e.cosmicTokens=Number(e.cosmicTokens)}if(a.uid&&i.db){let t=(0,r.H9)(i.db,"userProfiles",a.uid),s={...e,lastUpdated:Date.now()};await (0,r.mZ)(t,s);let l=(await (0,r.x7)(t)).data();m(e=>e?{...e,...l}:null)}else m(t=>t?{...t,...e}:null)}catch(e){throw w("Failed to update profile"),e}finally{g(!1)}}},v=async e=>{if(!a)throw Error("User not authenticated");g(!0),w(null);try{if(e.size>2097152)throw Error("Image file is too large. Please select a file under 2MB.");if(!e.type.startsWith("image/"))throw Error("Please select a valid image file (JPG, PNG, etc.)");let t=(0,n.KR)(i.IG,"profile-images/".concat(a.uid,"/").concat(Date.now(),"-").concat(e.name));if((null==u?void 0:u.photoURL)&&u.photoURL.includes("firebasestorage.googleapis.com"))try{let e=(0,n.KR)(i.IG,u.photoURL);await (0,n.XR)(e)}catch(e){}await (0,n.D)(t,e);let s=await (0,n.qk)(t);return await x({photoURL:s}),s}catch(e){throw w(e instanceof Error?e.message:"Failed to upload profile image"),e}finally{g(!1)}},j=async e=>{if(a){g(!0),w(null);try{a.uid&&await x({gameTiers:e})}catch(e){throw w("Failed to update game tiers"),e}finally{g(!1)}}},y=async(e,t)=>{if(!a||!a.email)throw Error("User not authenticated or email not available");g(!0),w(null);try{let s=o.IX.credential(a.email,e);await (0,o.kZ)(a,s),await (0,o.f3)(a,t)}catch(e){throw"auth/wrong-password"===e.code?w("Current password is incorrect"):w("Failed to change password"),e}finally{g(!1)}},N=async(e,t)=>{if(!a||!a.email)throw Error("User not authenticated or email not available");g(!0),w(null);try{let s=o.IX.credential(a.email,e);await (0,o.kZ)(a,s),await (0,o.Ww)(a,t),await x({email:t})}catch(e){throw"auth/wrong-password"===e.code?w("Current password is incorrect"):"auth/email-already-in-use"===e.code?w("This email is already in use by another account"):w("Failed to change email"),e}finally{g(!1)}};return(0,s.jsx)(d.Provider,{value:{profile:u,loading:h,updating:f,error:b,updateProfileData:x,uploadProfileImage:v,changePassword:y,changeEmail:N,updateAllGameTiers:j},children:t})}},6645:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return l}});let s=a(8229)._(a(7357));function l(e,t){var a;let l={};"function"==typeof e&&(l.loader=e);let r={...l,...t};return(0,s.default)({...r,modules:null==(a=r.loadableGenerated)?void 0:a.modules})}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},7357:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i}});let s=a(5155),l=a(2115),r=a(2146);function o(e){return{default:e&&"default"in e?e.default:e}}a(255);let n={loader:()=>Promise.resolve(o(()=>null)),loading:null,ssr:!0},i=function(e){let t={...n,...e},a=(0,l.lazy)(()=>t.loader().then(o)),i=t.loading;function c(e){let o=i?(0,s.jsx)(i,{isLoading:!0,pastDelay:!0,error:null}):null,n=!t.ssr||!!t.loading,c=n?l.Suspense:l.Fragment,d=t.ssr?(0,s.jsxs)(s.Fragment,{children:[null,(0,s.jsx)(a,{...e})]}):(0,s.jsx)(r.BailoutToCSR,{reason:"next/dynamic",children:(0,s.jsx)(a,{...e})});return(0,s.jsx)(c,{...n?{fallback:o}:{},children:d})}return c.displayName="LoadableComponent",c}},7828:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"workAsyncStorageInstance",{enumerable:!0,get:function(){return s}});let s=(0,a(4054).createAsyncLocalStorage)()}},e=>{var t=t=>e(e.s=t);e.O(0,[611,416,835,766,874,441,684,358],()=>t(2387)),_N_E=e.O()}]);