(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[554],{255:(e,t,r)=>{"use strict";function a(e){let{moduleIds:t}=e;return null}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"PreloadChunks",{enumerable:!0,get:function(){return a}}),r(5155),r(7650),r(5744),r(589)},1584:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});var a=r(5155);let s=(0,r(5028).default)(()=>Promise.all([r.e(766),r.e(874),r.e(615)]).then(r.bind(r,4615)),{loadableGenerated:{webpack:()=>[4615]},ssr:!1});function n(){return(0,a.jsx)(s,{})}},2146:(e,t,r)=>{"use strict";function a(e){let{reason:t,children:r}=e;return r}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"BailoutToCSR",{enumerable:!0,get:function(){return a}}),r(5262)},2516:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>b});var a=r(5155),s=r(2115),n=r(5695),l=r(5928),o=r(5317),i=r(2813),u=r(6104),c=r(1584),d=r(6766),m=r(6874),h=r.n(m);function b(){let e=(0,n.useRouter)(),{user:t}=(0,l.A)(),[r,m]=(0,s.useState)([]),[b,p]=(0,s.useState)(!0),[f,x]=(0,s.useState)(null);(0,s.useEffect)(()=>{if(!t){e.push("/login");return}let r=async()=>{(0,i.O)(),await (0,i.u)(500);try{p(!0),x(null);let e=(0,o.P)((0,o.rJ)(u.db,"teams"),(0,o._M)("check","==",!0),(0,o._M)("check2","==",!0)),t=await (0,o.GG)(e),r=[];t.forEach(e=>{let t=e.data();r.push({id:e.id,name:t.name||"Unnamed Team",description:t.description||"",members:t.members||[],createdBy:t.createdBy||"",points:t.points||0,logo:t.logo||"/default-team-logo.png",createdAt:t.createdAt})}),m(r)}catch(e){x("Failed to load teams. Please try again later."),m([])}finally{p(!1)}};setTimeout(()=>{r().catch(e=>{p(!1),x("Network error occurred. Please check your connection and try again."),m([])})},0)},[t,e]);let g=e=>{let t=e.split(" "),r="";return 1===t.length?t[0].substring(0,2).toUpperCase():t.slice(0,2).map(e=>e.charAt(0).toUpperCase()).join("")},j=e=>e.length<=3?e:[...e.slice(0,3),"+".concat(e.length-3," more")];return(0,a.jsxs)("main",{className:"min-h-screen flex flex-col",children:[(0,a.jsx)(c.A,{}),(0,a.jsx)("div",{className:"container mx-auto px-4 py-8 flex-1 bg-gradient-to-b from-slate-900 to-slate-800",children:(0,a.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-8 p-6 bg-slate-800/80 rounded-lg shadow-xl",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-blue-400 to-purple-500",children:"Blitz Teams"}),(0,a.jsxs)("div",{className:"flex space-x-4",children:[(0,a.jsx)("button",{onClick:()=>e.push("/create-team"),className:"px-4 py-2 bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 text-white rounded-lg transition-all transform hover:scale-105",children:"Create New Team"}),(0,a.jsx)("button",{onClick:()=>e.push("/dashboard"),className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors",children:"Dashboard"})]})]}),b&&(0,a.jsx)("div",{className:"flex justify-center items-center py-20",children:(0,a.jsx)("div",{className:"w-12 h-12 border-t-2 border-b-2 border-blue-500 rounded-full animate-spin"})}),f&&(0,a.jsx)("div",{className:"p-6 bg-red-900/50 text-red-200 rounded-lg border border-red-700 mb-6",children:f}),!b&&0===r.length&&!f&&(0,a.jsxs)("div",{className:"text-center py-16 bg-white/5 rounded-lg backdrop-blur-sm shadow-xl",children:[(0,a.jsx)("div",{className:"text-4xl mb-4",children:"\uD83D\uDEF8"}),(0,a.jsx)("h2",{className:"text-2xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-blue-400 to-purple-500 mb-4",children:"No Teams Found"}),(0,a.jsx)("p",{className:"text-white/70 max-w-md mx-auto mb-8",children:"You haven't created or joined any teams yet. Start your cosmic journey by creating your first team!"}),(0,a.jsx)("button",{onClick:()=>e.push("/create-team"),className:"px-6 py-3 bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 text-white rounded-lg transition-all transform hover:scale-105",children:"Create Your First Team"})]}),!b&&r.length>0&&(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:r.map(e=>(0,a.jsx)(h(),{href:"/teams/".concat(e.id),className:"group",children:(0,a.jsxs)("div",{className:"p-6 bg-white/5 rounded-lg backdrop-blur-sm shadow-xl hover:bg-white/10 transition-all transform hover:scale-[1.02] border border-transparent hover:border-blue-500/30",children:[(0,a.jsxs)("div",{className:"flex items-center mb-4",children:[e.logo&&"/default-team-logo.png"!==e.logo?(0,a.jsx)("div",{className:"w-16 h-16 rounded-full overflow-hidden mr-4 border-2 border-purple-500/50",children:(0,a.jsx)(d.default,{src:e.logo,alt:e.name,width:64,height:64,className:"object-cover"})}):(0,a.jsx)("div",{className:"w-16 h-16 rounded-full mr-4 flex items-center justify-center bg-gradient-to-br from-blue-600 to-purple-700 text-white font-bold text-xl",children:g(e.name)}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-xl font-bold group-hover:text-blue-400 transition-colors",children:e.name}),(0,a.jsxs)("p",{className:"text-white/60 text-sm",children:["Created by: ",e.createdBy]})]})]}),(0,a.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("span",{className:"text-xs font-medium uppercase tracking-wider text-purple-400 mr-2",children:"Team Points"}),(0,a.jsx)("span",{className:"px-2 py-1 bg-purple-900/50 rounded-md text-white font-bold",children:e.points.toLocaleString()})]}),(0,a.jsxs)("div",{className:"text-sm text-white/60",children:[e.members.length," ",1===e.members.length?"member":"members"]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-sm font-medium uppercase tracking-wider text-blue-400 mb-2",children:"Team Members"}),(0,a.jsx)("div",{className:"space-y-2",children:j(e.members).map((t,r)=>(0,a.jsxs)("div",{className:"flex items-center text-sm",children:[(0,a.jsx)("div",{className:"w-6 h-6 rounded-full bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center mr-2 text-xs",children:t.charAt(0).toUpperCase()}),(0,a.jsx)("span",{className:t.startsWith("+")?"text-white/50 italic":"text-white/80",children:t}),t===e.createdBy&&(0,a.jsx)("span",{className:"ml-2 px-1.5 py-0.5 text-xs bg-blue-900/50 text-blue-300 rounded",children:"Leader"})]},r))})]})]})},e.id))})]})})]})}},2813:(e,t,r)=>{"use strict";r.d(t,{O:()=>a,u:()=>s});let a=()=>new Date().getTime().toString(),s=e=>new Promise(t=>setTimeout(t,e))},4054:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{bindSnapshot:function(){return l},createAsyncLocalStorage:function(){return n},createSnapshot:function(){return o}});let r=Object.defineProperty(Error("Invariant: AsyncLocalStorage accessed in runtime where it is not available"),"__NEXT_ERROR_CODE",{value:"E504",enumerable:!1,configurable:!0});class a{disable(){throw r}getStore(){}run(){throw r}exit(){throw r}enterWith(){throw r}static bind(e){return e}}let s="undefined"!=typeof globalThis&&globalThis.AsyncLocalStorage;function n(){return s?new s:new a}function l(e){return s?s.bind(e):a.bind(e)}function o(){return s?s.snapshot():function(e,...t){return e(...t)}}},5028:(e,t,r)=>{"use strict";r.d(t,{default:()=>s.a});var a=r(6645),s=r.n(a)},5695:(e,t,r)=>{"use strict";var a=r(8999);r.o(a,"usePathname")&&r.d(t,{usePathname:function(){return a.usePathname}}),r.o(a,"useRouter")&&r.d(t,{useRouter:function(){return a.useRouter}})},5744:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"workAsyncStorage",{enumerable:!0,get:function(){return a.workAsyncStorageInstance}});let a=r(7828)},5928:(e,t,r)=>{"use strict";r.d(t,{A:()=>u,O:()=>c});var a=r(5155),s=r(2115),n=r(3004),l=r(6104),o=r(5317);let i=(0,s.createContext)(null);function u(){let e=(0,s.useContext)(i);if(!e)throw Error("useAuth must be used within an AuthProvider");return e}function c(e){let{children:t}=e,[r,u]=(0,s.useState)(null),[c,d]=(0,s.useState)(!0);(0,s.useEffect)(()=>{let e=(0,n.hg)(l.j2,e=>{u(e),d(!1)});return(0,n.Q4)(l.j2).then(e=>{(null==e?void 0:e.user)&&u(e.user)}).catch(e=>{}),e},[]);let m=async(e,t,r)=>{let a=await (0,n.eJ)(l.j2,e,t),s=a.user;return r&&s&&(await (0,n.r7)(s,{displayName:r}),await (0,o.BN)((0,o.H9)(l.db,"userProfiles",s.uid),{email:s.email,username:r,displayName:r,createdAt:(0,o.O5)(),hasSetUsername:!0})),a},h=async()=>{try{l.hJ.setCustomParameters({prompt:"select_account"});let t=await (0,n.df)(l.j2,l.hJ,n.hk),r=t.user;if(r){var e;await (0,o.BN)((0,o.H9)(l.db,"userProfiles",r.uid),{email:r.email,displayName:r.displayName||(null===(e=r.email)||void 0===e?void 0:e.split("@")[0])||"User",photoURL:r.photoURL,createdAt:(0,o.O5)(),lastLogin:(0,o.O5)(),hasSetUsername:!1},{merge:!0})}return t}catch(e){if("auth/popup-blocked"===e.code||"auth/popup-closed-by-user"===e.code||"auth/cancelled-popup-request"===e.code){await (0,n.$2)(l.j2,l.hJ);return}throw e}};return(0,a.jsx)(i.Provider,{value:{user:r,loading:c,signUp:m,signIn:(e,t)=>(0,n.x9)(l.j2,e,t),signInWithGoogle:h,logout:()=>(0,n.CI)(l.j2)},children:t})}},6104:(e,t,r)=>{"use strict";let a;r.d(t,{IG:()=>c,db:()=>u,hJ:()=>d,j2:()=>i});var s=r(3915),n=r(3004),l=r(5317),o=r(858);let i=null,u=null,c=null,d=null;(a=(0,s.Dk)().length?(0,s.Dk)()[0]:(0,s.Wp)({apiKey:"AIzaSyCQf_QXzyZkyRxsbo91PJmdwjEn3lVfDTo",authDomain:"cosmicteams-bbf29.firebaseapp.com",projectId:"cosmicteams-bbf29",storageBucket:"cosmicteams-bbf29.appspot.com",messagingSenderId:"807144888137",appId:"1:807144888137:web:2621a3ac917d9675d6ec98"}))&&(i=(0,n.xI)(a),u=(0,l.aU)(a),c=(0,o.c7)(a),d=new n.HF)},6645:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return s}});let a=r(8229)._(r(7357));function s(e,t){var r;let s={};"function"==typeof e&&(s.loader=e);let n={...s,...t};return(0,a.default)({...n,modules:null==(r=n.loadableGenerated)?void 0:r.modules})}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},7357:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i}});let a=r(5155),s=r(2115),n=r(2146);function l(e){return{default:e&&"default"in e?e.default:e}}r(255);let o={loader:()=>Promise.resolve(l(()=>null)),loading:null,ssr:!0},i=function(e){let t={...o,...e},r=(0,s.lazy)(()=>t.loader().then(l)),i=t.loading;function u(e){let l=i?(0,a.jsx)(i,{isLoading:!0,pastDelay:!0,error:null}):null,o=!t.ssr||!!t.loading,u=o?s.Suspense:s.Fragment,c=t.ssr?(0,a.jsxs)(a.Fragment,{children:[null,(0,a.jsx)(r,{...e})]}):(0,a.jsx)(n.BailoutToCSR,{reason:"next/dynamic",children:(0,a.jsx)(r,{...e})});return(0,a.jsx)(u,{...o?{fallback:l}:{},children:c})}return u.displayName="LoadableComponent",u}},7828:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"workAsyncStorageInstance",{enumerable:!0,get:function(){return a}});let a=(0,r(4054).createAsyncLocalStorage)()},9937:(e,t,r)=>{Promise.resolve().then(r.bind(r,2516))}},e=>{var t=t=>e(e.s=t);e.O(0,[611,416,835,766,874,441,684,358],()=>t(9937)),_N_E=e.O()}]);