exports.id=691,exports.ids=[691],exports.modules={6273:(e,t,r)=>{"use strict";r.d(t,{L8:()=>i,Tp:()=>a,tu:()=>o});let a=()=>{},i=()=>()=>{},o=()=>{}},33784:(e,t,r)=>{"use strict";r.d(t,{IG:()=>o,db:()=>i,hJ:()=>s,j2:()=>a}),r(67989),r(14808),r(19139),r(70146);let a=null,i=null,o=null,s=null},35692:()=>{},46114:(e,t,r)=>{Promise.resolve().then(r.bind(r,60877))},52936:(e,t,r)=>{"use strict";r.d(t,{A:()=>d,O:()=>c});var a=r(60687),i=r(43210),o=r(14808),s=r(33784),l=r(19139);let n=(0,i.createContext)(null);function d(){let e=(0,i.useContext)(n);if(!e)throw Error("useAuth must be used within an AuthProvider");return e}function c({children:e}){let[t,r]=(0,i.useState)(null),[d,c]=(0,i.useState)(!0),u=async(e,t,r)=>{let a=await (0,o.eJ)(s.j2,e,t),i=a.user;return r&&i&&(await (0,o.r7)(i,{displayName:r}),await (0,l.BN)((0,l.H9)(s.db,"userProfiles",i.uid),{email:i.email,username:r,displayName:r,createdAt:(0,l.O5)(),hasSetUsername:!0})),a},h=async()=>{try{s.hJ.setCustomParameters({prompt:"select_account"});let e=await (0,o.df)(s.j2,s.hJ,o.hk),t=e.user;return t&&await (0,l.BN)((0,l.H9)(s.db,"userProfiles",t.uid),{email:t.email,displayName:t.displayName||t.email?.split("@")[0]||"User",photoURL:t.photoURL,createdAt:(0,l.O5)(),lastLogin:(0,l.O5)(),hasSetUsername:!1},{merge:!0}),e}catch(e){if("auth/popup-blocked"===e.code||"auth/popup-closed-by-user"===e.code||"auth/cancelled-popup-request"===e.code){await (0,o.$2)(s.j2,s.hJ);return}throw e}};return(0,a.jsx)(n.Provider,{value:{user:t,loading:d,signUp:u,signIn:(e,t)=>(0,o.x9)(s.j2,e,t),signInWithGoogle:h,logout:()=>(0,o.CI)(s.j2)},children:e})}},59695:(e,t,r)=>{"use strict";r.d(t,{default:()=>a});let a=(0,r(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\Mayank\\\\Desktop\\\\cosmicteams\\\\src\\\\app\\\\Providers.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\Mayank\\Desktop\\cosmicteams\\src\\app\\Providers.tsx","default")},60877:(e,t,r)=>{"use strict";r.d(t,{default:()=>s});var a=r(60687);r(43210);var i=r(52936),o=r(66939);function s({children:e}){return(0,a.jsx)(i.O,{children:(0,a.jsx)(o.H,{children:e})})}r(6273)},66939:(e,t,r)=>{"use strict";r.d(t,{H:()=>h,x:()=>u});var a=r(60687),i=r(43210),o=r(19139),s=r(14808),l=r(70146),n=r(33784),d=r(52936);let c=(0,i.createContext)(null);function u(){let e=(0,i.useContext)(c);if(!e)throw Error("useProfile must be used within a ProfileProvider");return e}function h({children:e}){let{user:t}=(0,d.A)(),[r,u]=(0,i.useState)(null),[h,m]=(0,i.useState)(!0),[p,f]=(0,i.useState)(!1),[w,v]=(0,i.useState)(null),b=async e=>{if(t){f(!0),v(null);try{if(e.displayName||e.photoURL){let r={};e.displayName&&(r.displayName=e.displayName),e.photoURL&&(r.photoURL=e.photoURL),await (0,s.r7)(t,r)}if(void 0!==e.cosmicTokens){if(e.cosmicTokens<0)throw Error("Token amount cannot be negative");e.cosmicTokens=Number(e.cosmicTokens)}if(t.uid&&n.db){let r=(0,o.H9)(n.db,"userProfiles",t.uid),a={...e,lastUpdated:Date.now()};await (0,o.mZ)(r,a);let i=(await (0,o.x7)(r)).data();u(e=>e?{...e,...i}:null)}else u(t=>t?{...t,...e}:null)}catch(e){throw v("Failed to update profile"),e}finally{f(!1)}}},y=async e=>{if(!t)throw Error("User not authenticated");f(!0),v(null);try{if(e.size>2097152)throw Error("Image file is too large. Please select a file under 2MB.");if(!e.type.startsWith("image/"))throw Error("Please select a valid image file (JPG, PNG, etc.)");let a=(0,l.KR)(n.IG,`profile-images/${t.uid}/${Date.now()}-${e.name}`);if(r?.photoURL&&r.photoURL.includes("firebasestorage.googleapis.com"))try{let e=(0,l.KR)(n.IG,r.photoURL);await (0,l.XR)(e)}catch(e){}await (0,l.D)(a,e);let i=await (0,l.qk)(a);return await b({photoURL:i}),i}catch(e){throw v(e instanceof Error?e.message:"Failed to upload profile image"),e}finally{f(!1)}},g=async e=>{if(t){f(!0),v(null);try{t.uid&&await b({gameTiers:e})}catch(e){throw v("Failed to update game tiers"),e}finally{f(!1)}}},P=async(e,r)=>{if(!t||!t.email)throw Error("User not authenticated or email not available");f(!0),v(null);try{let a=s.IX.credential(t.email,e);await (0,s.kZ)(t,a),await (0,s.f3)(t,r)}catch(e){throw"auth/wrong-password"===e.code?v("Current password is incorrect"):v("Failed to change password"),e}finally{f(!1)}},x=async(e,r)=>{if(!t||!t.email)throw Error("User not authenticated or email not available");f(!0),v(null);try{let a=s.IX.credential(t.email,e);await (0,s.kZ)(t,a),await (0,s.Ww)(t,r),await b({email:r})}catch(e){throw"auth/wrong-password"===e.code?v("Current password is incorrect"):"auth/email-already-in-use"===e.code?v("This email is already in use by another account"):v("Failed to change email"),e}finally{f(!1)}};return(0,a.jsx)(c.Provider,{value:{profile:r,loading:h,updating:p,error:w,updateProfileData:b,uploadProfileImage:y,changePassword:P,changeEmail:x,updateAllGameTiers:g},children:e})}},77658:(e,t,r)=>{Promise.resolve().then(r.bind(r,59695))},92355:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,86346,23)),Promise.resolve().then(r.t.bind(r,27924,23)),Promise.resolve().then(r.t.bind(r,35656,23)),Promise.resolve().then(r.t.bind(r,40099,23)),Promise.resolve().then(r.t.bind(r,38243,23)),Promise.resolve().then(r.t.bind(r,28827,23)),Promise.resolve().then(r.t.bind(r,62763,23)),Promise.resolve().then(r.t.bind(r,97173,23))},93035:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,16444,23)),Promise.resolve().then(r.t.bind(r,16042,23)),Promise.resolve().then(r.t.bind(r,88170,23)),Promise.resolve().then(r.t.bind(r,49477,23)),Promise.resolve().then(r.t.bind(r,29345,23)),Promise.resolve().then(r.t.bind(r,12089,23)),Promise.resolve().then(r.t.bind(r,46577,23)),Promise.resolve().then(r.t.bind(r,31307,23))},94431:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>u,metadata:()=>d,viewport:()=>c});var a=r(37413);r(35692);var i=r(91326),o=r.n(i),s=r(86593),l=r.n(s),n=r(59695);let d={title:"Cosmic Teams",description:"A galaxy-themed team collaboration platform"},c={width:"device-width",initialScale:1,maximumScale:5};function u({children:e}){return(0,a.jsxs)("html",{lang:"en",className:`${o().variable} ${l().variable}`,children:[(0,a.jsxs)("head",{children:[(0,a.jsx)("link",{rel:"preconnect",href:"https://fonts.googleapis.com"}),(0,a.jsx)("link",{rel:"preconnect",href:"https://fonts.gstatic.com",crossOrigin:"anonymous"}),(0,a.jsx)("link",{rel:"dns-prefetch",href:"https://firebasestorage.googleapis.com"}),(0,a.jsx)("link",{rel:"dns-prefetch",href:"https://identitytoolkit.googleapis.com"})]}),(0,a.jsx)("body",{className:"min-h-screen bg-space-dark",suppressHydrationWarning:!0,children:(0,a.jsx)(n.default,{children:e})})]})}}};