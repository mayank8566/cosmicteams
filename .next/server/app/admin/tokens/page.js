(()=>{var e={};e.id=525,e.ids=[525],e.modules={643:e=>{"use strict";e.exports=require("node:perf_hooks")},1200:(e,s,t)=>{Promise.resolve().then(t.bind(t,99111))},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},4573:e=>{"use strict";e.exports=require("node:buffer")},5295:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>d});var r=t(60687),a=t(43210),n=t(16189),i=t(52936),o=t(94750),l=t(19139),c=t(33784);function d(){let e=(0,n.useRouter)(),{user:s}=(0,i.A)(),[t,d]=(0,a.useState)([]),[u,m]=(0,a.useState)(!0),[p,x]=(0,a.useState)(""),[f,h]=(0,a.useState)(!1),[b,y]=(0,a.useState)(null),[j,v]=(0,a.useState)(null),[g,N]=(0,a.useState)(100),[k,_]=(0,a.useState)(!1),[q,P]=(0,a.useState)(null),C=async()=>{try{m(!0);let e=(0,l.rJ)(c.db,"users"),s=await (0,l.GG)(e),t=[];s.forEach(e=>{let s=e.data();t.push({id:e.id,email:e.id,displayName:s.displayName,username:s.username,cosmicTokens:s.cosmicTokens||0,photoURL:s.photoURL})}),d(t)}catch(e){y("Failed to load users.")}finally{m(!1)}},w=async()=>{if(!p.trim()){C();return}try{m(!0);let e=(0,l.rJ)(c.db,"users"),s=(0,l.P)(e,(0,l._M)("email",">=",p),(0,l._M)("email","<=",p+"")),t=(0,l.P)(e,(0,l._M)("username",">=",p),(0,l._M)("username","<=",p+"")),[r,a]=await Promise.all([(0,l.GG)(s),(0,l.GG)(t)]),n=[],i=new Set;r.forEach(e=>{if(!i.has(e.id)){let s=e.data();n.push({id:e.id,email:e.id,displayName:s.displayName,username:s.username,cosmicTokens:s.cosmicTokens||0,photoURL:s.photoURL}),i.add(e.id)}}),a.forEach(e=>{if(!i.has(e.id)){let s=e.data();n.push({id:e.id,email:e.id,displayName:s.displayName,username:s.username,cosmicTokens:s.cosmicTokens||0,photoURL:s.photoURL}),i.add(e.id)}}),d(n)}catch(e){y("Failed to search users.")}finally{m(!1)}},R=async()=>{if(j&&!(g<=0)&&!k)try{_(!0),P(null);let e=(0,l.H9)(c.db,"users",j.id),s=await (0,l.x7)(e);if(s.exists()){let t=(s.data().cosmicTokens||0)+g;await (0,l.mZ)(e,{cosmicTokens:t}),d(e=>e.map(e=>e.id===j.id?{...e,cosmicTokens:t}:e)),j==j&&v({...j,cosmicTokens:t}),P({type:"success",text:`Successfully granted ${g} Cosmic Tokens to ${j.username||j.email}!`})}else P({type:"error",text:"User not found in database."})}catch(e){P({type:"error",text:"Failed to grant tokens. Please try again."})}finally{_(!1)}};return u&&!f?(0,r.jsxs)("main",{className:"min-h-screen flex flex-col",children:[(0,r.jsx)(o.A,{}),(0,r.jsx)("div",{className:"flex-1 flex items-center justify-center",children:(0,r.jsx)("div",{className:"animate-spin w-12 h-12 border-4 border-space-cyan border-t-transparent rounded-full"})})]}):b||!f?(0,r.jsxs)("main",{className:"min-h-screen flex flex-col",children:[(0,r.jsx)(o.A,{}),(0,r.jsx)("div",{className:"flex-1 p-6 flex items-center justify-center",children:(0,r.jsxs)("div",{className:"cosmic-card p-8 max-w-md text-center",children:[(0,r.jsx)("h2",{className:"text-2xl font-bold text-red-500 mb-4",children:"Access Denied"}),(0,r.jsx)("p",{className:"mb-6",children:b||"You do not have permission to access this page."}),(0,r.jsx)("button",{onClick:()=>e.push("/dashboard"),className:"btn-gradient",children:"Return to Dashboard"})]})})]}):(0,r.jsxs)("main",{className:"min-h-screen flex flex-col",children:[(0,r.jsx)(o.A,{}),(0,r.jsx)("div",{className:"flex-1 px-6 py-12 relative overflow-hidden",children:(0,r.jsxs)("div",{className:"container mx-auto max-w-6xl",children:[(0,r.jsx)("h1",{className:"text-4xl font-bold font-space mb-2 animate-fade-in-up",children:(0,r.jsx)("span",{className:"gradient-text cosmic-gradient",children:"Admin: Cosmic Tokens"})}),(0,r.jsx)("p",{className:"text-cosmic-text-secondary mb-8 animate-fade-in-up",style:{animationDelay:"100ms"},children:"Grant Cosmic Tokens to users from this admin panel"}),(0,r.jsx)("div",{className:"cosmic-card border border-space-indigo/30 p-6 mb-8",children:(0,r.jsxs)("div",{className:"flex flex-col md:flex-row gap-4",children:[(0,r.jsx)("div",{className:"flex-1",children:(0,r.jsx)("input",{type:"text",placeholder:"Search by username or email",value:p,onChange:e=>x(e.target.value),className:"w-full cosmic-input"})}),(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsx)("button",{onClick:w,className:"btn-gradient-secondary",children:"Search"}),(0,r.jsx)("button",{onClick:C,className:"btn-outline",children:"Reset"})]})]})}),j&&(0,r.jsxs)("div",{className:"cosmic-card border border-space-purple/30 p-6 mb-8",children:[(0,r.jsx)("h2",{className:"text-2xl font-bold text-space-cyan mb-4",children:"Grant Tokens"}),(0,r.jsxs)("div",{className:"flex items-center gap-4 mb-6",children:[(0,r.jsx)("div",{className:"w-12 h-12 rounded-full overflow-hidden bg-space-dark",children:(0,r.jsx)("img",{src:j.photoURL||"/default-avatar.png",alt:j.displayName||"User",className:"w-full h-full object-cover"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"font-semibold text-lg",children:j.displayName||"User"}),(0,r.jsx)("div",{className:"text-sm text-cosmic-text-secondary",children:j.username?`@${j.username}`:j.email}),(0,r.jsxs)("div",{className:"text-space-gold font-medium",children:["Current Balance: ",j.cosmicTokens||0," Tokens"]})]})]}),q&&(0,r.jsx)("div",{className:`mb-4 p-3 rounded-lg ${"success"===q.type?"bg-green-900/30 border border-green-500/50 text-green-300":"bg-red-900/30 border border-red-500/50 text-red-300"}`,children:q.text}),(0,r.jsxs)("div",{className:"flex flex-col md:flex-row gap-4",children:[(0,r.jsxs)("div",{className:"w-full md:w-1/3",children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Amount to Grant"}),(0,r.jsx)("input",{type:"number",min:"1",max:"10000",value:g,onChange:e=>N(Math.max(1,parseInt(e.target.value)||0)),className:"w-full cosmic-input"})]}),(0,r.jsxs)("div",{className:"flex-1 flex items-end",children:[(0,r.jsx)("button",{onClick:R,disabled:k||g<=0,className:"btn-gradient py-2 px-6 disabled:opacity-50",children:k?"Processing...":"Grant Tokens"}),(0,r.jsx)("button",{onClick:()=>{v(null),P(null)},className:"btn-outline py-2 px-6 ml-2",children:"Cancel"})]})]})]}),(0,r.jsxs)("div",{className:"cosmic-card border border-space-cyan/30 p-6",children:[(0,r.jsx)("h2",{className:"text-2xl font-bold mb-6",children:"Users"}),u?(0,r.jsx)("div",{className:"flex items-center justify-center py-8",children:(0,r.jsx)("div",{className:"animate-spin w-8 h-8 border-4 border-space-cyan border-t-transparent rounded-full"})}):0===t.length?(0,r.jsxs)("div",{className:"text-center py-8 text-cosmic-text-secondary",children:["No users found. ",p&&"Try a different search term."]}):(0,r.jsx)("div",{className:"overflow-x-auto",children:(0,r.jsxs)("table",{className:"w-full min-w-full",children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{className:"border-b border-space-blue/30",children:[(0,r.jsx)("th",{className:"text-left py-3 px-4 font-medium",children:"User"}),(0,r.jsx)("th",{className:"text-left py-3 px-4 font-medium",children:"Email"}),(0,r.jsx)("th",{className:"text-left py-3 px-4 font-medium",children:"Tokens"}),(0,r.jsx)("th",{className:"text-right py-3 px-4 font-medium",children:"Actions"})]})}),(0,r.jsx)("tbody",{children:t.map(e=>(0,r.jsxs)("tr",{className:"border-b border-space-blue/20 hover:bg-space-blue/10",children:[(0,r.jsx)("td",{className:"py-3 px-4",children:(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("div",{className:"w-8 h-8 rounded-full overflow-hidden bg-space-dark mr-3",children:(0,r.jsx)("img",{src:e.photoURL||"/default-avatar.png",alt:e.displayName||"User",className:"w-full h-full object-cover"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"font-medium",children:e.displayName||"User"}),e.username&&(0,r.jsxs)("div",{className:"text-xs text-cosmic-text-secondary",children:["@",e.username]})]})]})}),(0,r.jsx)("td",{className:"py-3 px-4 text-cosmic-text-secondary",children:e.email}),(0,r.jsx)("td",{className:"py-3 px-4 text-space-gold font-medium",children:e.cosmicTokens||0}),(0,r.jsx)("td",{className:"py-3 px-4 text-right",children:(0,r.jsx)("button",{onClick:()=>{v(e),P(null)},className:"btn-gradient-secondary text-sm py-1 px-3",children:"Grant Tokens"})})]},e.id))})]})})]})]})})]})}},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},10928:(e,s,t)=>{Promise.resolve().then(t.bind(t,58364))},16141:e=>{"use strict";e.exports=require("node:zlib")},16189:(e,s,t)=>{"use strict";var r=t(65773);t.o(r,"useRouter")&&t.d(s,{useRouter:function(){return r.useRouter}})},16698:e=>{"use strict";e.exports=require("node:async_hooks")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},19587:(e,s)=>{"use strict";function t(e){return e.split("/").map(e=>encodeURIComponent(e)).join("/")}Object.defineProperty(s,"__esModule",{value:!0}),Object.defineProperty(s,"encodeURIPath",{enumerable:!0,get:function(){return t}})},19771:e=>{"use strict";e.exports=require("process")},21820:e=>{"use strict";e.exports=require("os")},27910:e=>{"use strict";e.exports=require("stream")},28354:e=>{"use strict";e.exports=require("util")},29021:e=>{"use strict";e.exports=require("fs")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},30036:(e,s,t)=>{"use strict";t.d(s,{default:()=>a.a});var r=t(49587),a=t.n(r)},32467:e=>{"use strict";e.exports=require("node:http2")},33873:e=>{"use strict";e.exports=require("path")},34589:e=>{"use strict";e.exports=require("node:assert")},34631:e=>{"use strict";e.exports=require("tls")},34655:(e,s,t)=>{Promise.resolve().then(t.bind(t,5295))},37067:e=>{"use strict";e.exports=require("node:http")},37366:e=>{"use strict";e.exports=require("dns")},37540:e=>{"use strict";e.exports=require("node:console")},41204:e=>{"use strict";e.exports=require("string_decoder")},41692:e=>{"use strict";e.exports=require("node:tls")},41792:e=>{"use strict";e.exports=require("node:querystring")},42694:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>i.a,__next_app__:()=>u,pages:()=>d,routeModule:()=>m,tree:()=>c});var r=t(65239),a=t(48088),n=t(88170),i=t.n(n),o=t(30893),l={};for(let e in o)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);t.d(s,l);let c={children:["",{children:["admin",{children:["tokens",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,86173)),"C:\\Users\\Mayank\\Desktop\\cosmicteams\\src\\app\\admin\\tokens\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,99111)),"C:\\Users\\Mayank\\Desktop\\cosmicteams\\src\\app\\admin\\layout.tsx"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,94431)),"C:\\Users\\Mayank\\Desktop\\cosmicteams\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(t.t.bind(t,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(t.t.bind(t,65284,23)),"next/dist/client/components/unauthorized-error"]}]}.children,d=["C:\\Users\\Mayank\\Desktop\\cosmicteams\\src\\app\\admin\\tokens\\page.tsx"],u={require:t,loadChunk:()=>Promise.resolve()},m=new r.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/admin/tokens/page",pathname:"/admin/tokens",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},49587:(e,s,t)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0}),Object.defineProperty(s,"default",{enumerable:!0,get:function(){return a}});let r=t(14985)._(t(64963));function a(e,s){var t;let a={};"function"==typeof e&&(a.loader=e);let n={...a,...s};return(0,r.default)({...n,modules:null==(t=n.loadableGenerated)?void 0:t.modules})}("function"==typeof s.default||"object"==typeof s.default&&null!==s.default)&&void 0===s.default.__esModule&&(Object.defineProperty(s.default,"__esModule",{value:!0}),Object.assign(s.default,s),e.exports=s.default)},53053:e=>{"use strict";e.exports=require("node:diagnostics_channel")},55511:e=>{"use strict";e.exports=require("crypto")},56780:(e,s,t)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0}),Object.defineProperty(s,"BailoutToCSR",{enumerable:!0,get:function(){return a}});let r=t(81208);function a(e){let{reason:s,children:t}=e;throw Object.defineProperty(new r.BailoutToCSRError(s),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0})}},57075:e=>{"use strict";e.exports=require("node:stream")},57975:e=>{"use strict";e.exports=require("node:util")},58364:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>l});var r=t(60687),a=t(43210),n=t(16189);t(1017),t(33784);var i=t(52936);function o({children:e,fallbackUrl:s="/dashboard"}){(0,n.useRouter)();let{user:t,loading:o}=(0,i.A)(),[l,c]=(0,a.useState)(null),[d,u]=(0,a.useState)(!0);return o||d?(0,r.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-space-dark",children:(0,r.jsxs)("div",{className:"cosmic-card p-8",children:[(0,r.jsx)("div",{className:"animate-spin w-12 h-12 border-4 border-space-cyan border-t-transparent rounded-full mx-auto"}),(0,r.jsx)("p",{className:"text-center mt-4",children:"Verifying admin access..."})]})}):l?(0,r.jsx)(r.Fragment,{children:e}):null}function l({children:e}){return(0,r.jsx)(o,{children:e})}},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},64777:(e,s,t)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0}),Object.defineProperty(s,"PreloadChunks",{enumerable:!0,get:function(){return o}});let r=t(60687),a=t(51215),n=t(29294),i=t(19587);function o(e){let{moduleIds:s}=e,t=n.workAsyncStorage.getStore();if(void 0===t)return null;let o=[];if(t.reactLoadableManifest&&s){let e=t.reactLoadableManifest;for(let t of s){if(!e[t])continue;let s=e[t].files;o.push(...s)}}return 0===o.length?null:(0,r.jsx)(r.Fragment,{children:o.map(e=>{let s=t.assetPrefix+"/_next/"+(0,i.encodeURIPath)(e);return e.endsWith(".css")?(0,r.jsx)("link",{precedence:"dynamic",href:s,rel:"stylesheet",as:"style"},e):((0,a.preload)(s,{as:"script",fetchPriority:"low"}),null)})})}},64963:(e,s,t)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0}),Object.defineProperty(s,"default",{enumerable:!0,get:function(){return c}});let r=t(60687),a=t(43210),n=t(56780),i=t(64777);function o(e){return{default:e&&"default"in e?e.default:e}}let l={loader:()=>Promise.resolve(o(()=>null)),loading:null,ssr:!0},c=function(e){let s={...l,...e},t=(0,a.lazy)(()=>s.loader().then(o)),c=s.loading;function d(e){let o=c?(0,r.jsx)(c,{isLoading:!0,pastDelay:!0,error:null}):null,l=!s.ssr||!!s.loading,d=l?a.Suspense:a.Fragment,u=s.ssr?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(i.PreloadChunks,{moduleIds:s.modules}),(0,r.jsx)(t,{...e})]}):(0,r.jsx)(n.BailoutToCSR,{reason:"next/dynamic",children:(0,r.jsx)(t,{...e})});return(0,r.jsx)(d,{...l?{fallback:o}:{},children:u})}return d.displayName="LoadableComponent",d}},69159:(e,s,t)=>{Promise.resolve().then(t.bind(t,86173))},73136:e=>{"use strict";e.exports=require("node:url")},73429:e=>{"use strict";e.exports=require("node:util/types")},73496:e=>{"use strict";e.exports=require("http2")},74075:e=>{"use strict";e.exports=require("zlib")},75919:e=>{"use strict";e.exports=require("node:worker_threads")},77030:e=>{"use strict";e.exports=require("node:net")},77598:e=>{"use strict";e.exports=require("node:crypto")},78474:e=>{"use strict";e.exports=require("node:events")},79551:e=>{"use strict";e.exports=require("url")},81630:e=>{"use strict";e.exports=require("http")},86173:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>r});let r=(0,t(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\Mayank\\\\Desktop\\\\cosmicteams\\\\src\\\\app\\\\admin\\\\tokens\\\\page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\Mayank\\Desktop\\cosmicteams\\src\\app\\admin\\tokens\\page.tsx","default")},91645:e=>{"use strict";e.exports=require("net")},94735:e=>{"use strict";e.exports=require("events")},94750:(e,s,t)=>{"use strict";t.d(s,{A:()=>n});var r=t(60687);let a=(0,t(30036).default)(async()=>{},{loadableGenerated:{modules:["components\\HeaderWrapper.tsx -> ./Header"]},ssr:!1});function n(){return(0,r.jsx)(a,{})}},99111:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>r});let r=(0,t(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\Mayank\\\\Desktop\\\\cosmicteams\\\\src\\\\app\\\\admin\\\\layout.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\Mayank\\Desktop\\cosmicteams\\src\\app\\admin\\layout.tsx","default")}};var s=require("../../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),r=s.X(0,[158,691],()=>t(42694));module.exports=r})();