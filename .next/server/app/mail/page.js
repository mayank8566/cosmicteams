(()=>{var e={};e.id=244,e.ids=[244],e.modules={643:e=>{"use strict";e.exports=require("node:perf_hooks")},2714:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>n.a,__next_app__:()=>u,pages:()=>c,routeModule:()=>p,tree:()=>l});var s=r(65239),i=r(48088),a=r(88170),n=r.n(a),o=r(30893),d={};for(let e in o)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>o[e]);r.d(t,d);let l={children:["",{children:["mail",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,73804)),"C:\\Users\\Mayank\\Desktop\\cosmicteams\\src\\app\\mail\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,94431)),"C:\\Users\\Mayank\\Desktop\\cosmicteams\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,65284,23)),"next/dist/client/components/unauthorized-error"]}]}.children,c=["C:\\Users\\Mayank\\Desktop\\cosmicteams\\src\\app\\mail\\page.tsx"],u={require:r,loadChunk:()=>Promise.resolve()},p=new s.AppPageRouteModule({definition:{kind:i.RouteKind.APP_PAGE,page:"/mail/page",pathname:"/mail",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:l}})},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},4573:e=>{"use strict";e.exports=require("node:buffer")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},16141:e=>{"use strict";e.exports=require("node:zlib")},16189:(e,t,r)=>{"use strict";var s=r(65773);r.o(s,"useRouter")&&r.d(t,{useRouter:function(){return s.useRouter}})},16698:e=>{"use strict";e.exports=require("node:async_hooks")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},19771:e=>{"use strict";e.exports=require("process")},20085:(e,t,r)=>{Promise.resolve().then(r.bind(r,73804))},21820:e=>{"use strict";e.exports=require("os")},25238:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>m});var s=r(60687),i=r(43210),a=r(16189),n=r(52936),o=r(19139),d=r(33784),l=r(94750),c=r(85814),u=r.n(c),p=r(30474);function m(){(0,a.useRouter)();let{user:e}=(0,n.A)(),[t,r]=(0,i.useState)([]),[c,m]=(0,i.useState)(!0),[x,h]=(0,i.useState)(null),[b,f]=(0,i.useState)(null),v=async s=>{if(e){f(s.id);try{let i=(0,o.H9)(d.db,"teams",s.teamId),a=await (0,o.x7)(i);if(!a.exists())throw Error("Team no longer exists");await (0,o.mZ)(i,{members:(0,o.hq)(e.email),updatedAt:(0,o.O5)()});let n=(0,o.H9)(d.db,"invitations",s.id);await (0,o.mZ)(n,{status:"accepted",respondedAt:(0,o.O5)()}),await (0,o.gS)((0,o.rJ)(d.db,"notifications"),{userId:a.data().createdBy,type:"invitation_accepted",message:`${e.displayName||e.email} has accepted your invitation to join ${s.teamName}`,teamId:s.teamId,teamName:s.teamName,createdAt:(0,o.O5)(),read:!1}),r(t.filter(e=>e.id!==s.id))}catch(e){h("Failed to accept invitation. Please try again.")}finally{f(null)}}},g=async s=>{if(e){f(s.id);try{let i=(0,o.H9)(d.db,"invitations",s.id);await (0,o.mZ)(i,{status:"declined",respondedAt:(0,o.O5)()}),await (0,o.gS)((0,o.rJ)(d.db,"notifications"),{userId:s.invitedBy,type:"invitation_declined",message:`${e.displayName||e.email} has declined your invitation to join ${s.teamName}`,teamId:s.teamId,teamName:s.teamName,createdAt:(0,o.O5)(),read:!1}),r(t.filter(e=>e.id!==s.id))}catch(e){h("Failed to decline invitation. Please try again.")}finally{f(null)}}},y=e=>e?(e.toDate?e.toDate():new Date(e)).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"numeric",minute:"2-digit",hour12:!0}):"Unknown date",j=e=>{let t=e.split(" "),r="";return 1===t.length?t[0].substring(0,2).toUpperCase():t.slice(0,2).map(e=>e.charAt(0).toUpperCase()).join("")};return(0,s.jsxs)("main",{className:"min-h-screen flex flex-col",children:[(0,s.jsx)(l.A,{}),(0,s.jsx)("div",{className:"container mx-auto px-4 py-8 flex-1 bg-gradient-to-b from-slate-900 to-slate-800",children:(0,s.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-8 p-6 bg-slate-800/80 rounded-lg shadow-xl",children:[(0,s.jsx)("h1",{className:"text-3xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-blue-400 to-purple-500",children:"Mail"}),(0,s.jsx)("div",{className:"flex space-x-4",children:(0,s.jsx)(u(),{href:"/",className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors",children:"Return Home"})})]}),x&&(0,s.jsx)("div",{className:"mb-6 p-4 bg-red-900/50 text-red-200 rounded-lg border border-red-700",children:x}),(0,s.jsxs)("div",{className:"bg-white/5 rounded-lg backdrop-blur-sm shadow-xl mb-8 overflow-hidden",children:[(0,s.jsx)("div",{className:"p-6 border-b border-white/10",children:(0,s.jsx)("h2",{className:"text-xl font-semibold text-transparent bg-clip-text bg-gradient-to-r from-blue-300 to-purple-400",children:"Team Invitations"})}),c?(0,s.jsx)("div",{className:"flex justify-center py-10",children:(0,s.jsx)("div",{className:"w-10 h-10 border-t-2 border-b-2 border-blue-500 rounded-full animate-spin"})}):0===t.length?(0,s.jsx)("div",{className:"p-6 text-center text-white/70",children:(0,s.jsxs)("div",{className:"flex flex-col items-center justify-center py-10",children:[(0,s.jsx)("div",{className:"w-16 h-16 text-3xl mb-4 opacity-60",children:"\uD83D\uDCEA"}),(0,s.jsx)("p",{className:"text-lg",children:"No pending invitations"}),(0,s.jsx)("p",{className:"text-sm text-white/50 mt-2",children:"When you receive team invitations, they will appear here"})]})}):(0,s.jsx)("div",{className:"divide-y divide-white/10",children:t.map(e=>(0,s.jsx)("div",{className:"p-6 hover:bg-white/5 transition-colors",children:(0,s.jsxs)("div",{className:"flex items-start md:items-center flex-col md:flex-row gap-4",children:[(0,s.jsx)("div",{className:"flex-shrink-0",children:e.teamLogo?(0,s.jsx)("div",{className:"w-14 h-14 rounded-full overflow-hidden border-2 border-purple-500/50",children:(0,s.jsx)(p.default,{src:e.teamLogo,alt:e.teamName,width:56,height:56,className:"object-cover"})}):(0,s.jsx)("div",{className:"w-14 h-14 rounded-full flex items-center justify-center bg-gradient-to-br from-blue-600 to-purple-700 text-white font-bold text-xl",children:j(e.teamName)})}),(0,s.jsxs)("div",{className:"flex-grow",children:[(0,s.jsxs)("h3",{className:"text-lg font-medium text-white",children:["Invitation to join ",(0,s.jsx)("span",{className:"font-bold",children:e.teamName})]}),(0,s.jsxs)("p",{className:"text-white/70 text-sm mb-1",children:["Invited by ",(0,s.jsx)("span",{className:"text-purple-400",children:e.invitedByUsername})]}),(0,s.jsx)("p",{className:"text-white/50 text-xs",children:y(e.createdAt)})]}),(0,s.jsxs)("div",{className:"flex gap-3 mt-4 md:mt-0",children:[(0,s.jsxs)("button",{onClick:()=>v(e),disabled:b===e.id,className:"px-4 py-2 bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 text-white rounded-lg transition-all transform hover:scale-105 disabled:opacity-50 disabled:transform-none flex items-center",children:[b===e.id?(0,s.jsx)("span",{className:"inline-block h-4 w-4 animate-spin rounded-full border-2 border-solid border-current border-r-transparent mr-2"}):null,"Accept"]}),(0,s.jsx)("button",{onClick:()=>g(e),disabled:b===e.id,className:"px-4 py-2 bg-transparent border border-red-500/50 text-red-400 hover:bg-red-500/20 rounded-lg transition-all",children:"Decline"})]})]})},e.id))})]})]})})]})}},27910:e=>{"use strict";e.exports=require("stream")},28354:e=>{"use strict";e.exports=require("util")},29021:e=>{"use strict";e.exports=require("fs")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},32467:e=>{"use strict";e.exports=require("node:http2")},33653:(e,t,r)=>{Promise.resolve().then(r.bind(r,25238))},33873:e=>{"use strict";e.exports=require("path")},34589:e=>{"use strict";e.exports=require("node:assert")},34631:e=>{"use strict";e.exports=require("tls")},37067:e=>{"use strict";e.exports=require("node:http")},37366:e=>{"use strict";e.exports=require("dns")},37540:e=>{"use strict";e.exports=require("node:console")},41204:e=>{"use strict";e.exports=require("string_decoder")},41692:e=>{"use strict";e.exports=require("node:tls")},41792:e=>{"use strict";e.exports=require("node:querystring")},53053:e=>{"use strict";e.exports=require("node:diagnostics_channel")},55511:e=>{"use strict";e.exports=require("crypto")},57075:e=>{"use strict";e.exports=require("node:stream")},57975:e=>{"use strict";e.exports=require("node:util")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},73136:e=>{"use strict";e.exports=require("node:url")},73429:e=>{"use strict";e.exports=require("node:util/types")},73496:e=>{"use strict";e.exports=require("http2")},73804:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});let s=(0,r(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\Mayank\\\\Desktop\\\\cosmicteams\\\\src\\\\app\\\\mail\\\\page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\Mayank\\Desktop\\cosmicteams\\src\\app\\mail\\page.tsx","default")},74075:e=>{"use strict";e.exports=require("zlib")},75919:e=>{"use strict";e.exports=require("node:worker_threads")},77030:e=>{"use strict";e.exports=require("node:net")},77598:e=>{"use strict";e.exports=require("node:crypto")},78474:e=>{"use strict";e.exports=require("node:events")},79551:e=>{"use strict";e.exports=require("url")},81630:e=>{"use strict";e.exports=require("http")},91645:e=>{"use strict";e.exports=require("net")},94735:e=>{"use strict";e.exports=require("events")},94750:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});var s=r(60687);let i=(0,r(30036).default)(async()=>{},{loadableGenerated:{modules:["components\\HeaderWrapper.tsx -> ./Header"]},ssr:!1});function a(){return(0,s.jsx)(i,{})}}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[53,669,474,691],()=>r(2714));module.exports=s})();